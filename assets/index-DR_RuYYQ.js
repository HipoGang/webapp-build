var Ct=Object.defineProperty;var At=(s,t,o)=>t in s?Ct(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o;var l=(s,t,o)=>At(s,typeof t!="symbol"?t+"":t,o);import{r as jt,o as M,m as Tt,b as Ue,d as N,e as D,f as y,h as St,R as Nt}from"./lib-DUnnc3em.js";import{T as Wt,a as He,C as _t}from"./tonconnect-D9ECFs5a.js";import{d as Pt}from"./ton-DNsiZ3GN.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))d(a);new MutationObserver(a=>{for(const m of a)if(m.type==="childList")for(const T of m.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&d(T)}).observe(document,{childList:!0,subtree:!0});function o(a){const m={};return a.integrity&&(m.integrity=a.integrity),a.referrerPolicy&&(m.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?m.credentials="include":a.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function d(a){if(a.ep)return;a.ep=!0;const m=o(a);fetch(a.href,m)}})();var Qe={exports:{}},we={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Et=jt,Lt=Symbol.for("react.element"),Bt=Symbol.for("react.fragment"),Ft=Object.prototype.hasOwnProperty,It=Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dt={key:!0,ref:!0,__self:!0,__source:!0};function Ze(s,t,o){var d,a={},m=null,T=null;o!==void 0&&(m=""+o),t.key!==void 0&&(m=""+t.key),t.ref!==void 0&&(T=t.ref);for(d in t)Ft.call(t,d)&&!Dt.hasOwnProperty(d)&&(a[d]=t[d]);if(s&&s.defaultProps)for(d in t=s.defaultProps,t)a[d]===void 0&&(a[d]=t[d]);return{$$typeof:Lt,type:s,key:m,ref:T,props:a,_owner:It.current}}we.Fragment=Bt;we.jsx=Ze;we.jsxs=Ze;Qe.exports=we;var e=Qe.exports;const Mt="data:image/svg+xml,%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2020%2021'%20style='enable-background:new%200%200%2020%2021;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill-rule:evenodd;clip-rule:evenodd;fill:%23FFFFFF;}%20%3c/style%3e%3cpath%20class='st0'%20d='M15.4,5.3h3.9c0.4,0,0.7,0.3,0.7,0.7V20c0,0.4-0.3,0.7-0.7,0.7h-3.9c-0.4,0-0.7-0.3-0.7-0.7V5.9%20C14.7,5.6,15,5.3,15.4,5.3L15.4,5.3z%20M6.7,2.4L5.9,1.9C5.9,1.8,5.8,1.7,5.9,1.6c0-0.1,0.1-0.1,0.1-0.2l3.6-1.1c0.1,0,0.1,0,0.2,0%20c0.1,0,0.1,0.1,0.1,0.2l0.3,3.9c0,0.1,0,0.2-0.1,0.2c-0.1,0-0.2,0-0.2,0L9.1,4.1C6.4,7.8,3.7,8.7,0.3,8.3c-0.1,0-0.2-0.1-0.2-0.2%20c0-0.1,0.1-0.2,0.2-0.2C4.1,6.8,6.1,3.7,6.7,2.4z%20M1.3,13.3h3.9c0.4,0,0.7,0.3,0.7,0.7V20c0,0.4-0.3,0.7-0.7,0.7H1.3%20c-0.4,0-0.7-0.3-0.7-0.7V14C0.7,13.6,1,13.3,1.3,13.3L1.3,13.3z%20M12.2,9.3H8.3C8,9.3,7.7,9.6,7.7,9.9V20c0,0.4,0.3,0.7,0.7,0.7h3.9%20c0.4,0,0.7-0.3,0.7-0.7V9.9C12.8,9.6,12.5,9.3,12.2,9.3z'/%3e%3c/svg%3e",Ot="data:image/svg+xml,%3csvg%20width='30'%20height='16'%20viewBox='0%200%2030%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%3e%3cpath%20d='M5.52248%207.01112C6.83106%207.01112%207.89186%205.86967%207.89186%204.46162C7.89186%203.05356%206.83106%201.91211%205.52248%201.91211C4.21391%201.91211%203.15311%203.05356%203.15311%204.46162C3.15311%205.86967%204.21391%207.01112%205.52248%207.01112Z'%20fill='white'/%3e%3cpath%20d='M8.6856%208.79579C8.07073%209.29385%207.57192%209.93892%207.22856%2010.6801C6.8852%2011.4212%206.70671%2012.2381%206.70717%2013.0662V13.3849H1.67224C1.18652%2013.3849%200.783722%2012.9515%200.783722%2012.4288V11.7915C0.783722%209.85383%202.24089%208.28589%204.04162%208.28589H7.00334C7.61938%208.28589%208.19987%208.4771%208.6856%208.79579Z'%20fill='white'/%3e%3cpath%20d='M24.4775%207.01112C25.7861%207.01112%2026.8469%205.86967%2026.8469%204.46162C26.8469%203.05356%2025.7861%201.91211%2024.4775%201.91211C23.1689%201.91211%2022.1081%203.05356%2022.1081%204.46162C22.1081%205.86967%2023.1689%207.01112%2024.4775%207.01112Z'%20fill='white'/%3e%3cpath%20d='M29.2163%2011.7915V12.4288C29.2163%2012.9515%2028.8135%2013.3849%2028.3278%2013.3849H23.2928V13.0662C23.2928%2011.3198%2022.5109%209.7646%2021.3144%208.79579C21.8001%208.4771%2022.3806%208.28589%2022.9967%208.28589H25.9584C27.7591%208.28589%2029.2163%209.85383%2029.2163%2011.7915Z'%20fill='white'/%3e%3cpath%20d='M15%207.64852C16.9628%207.64852%2018.5541%205.93634%2018.5541%203.82426C18.5541%201.71218%2016.9628%200%2015%200C13.0371%200%2011.4459%201.71218%2011.4459%203.82426C11.4459%205.93634%2013.0371%207.64852%2015%207.64852Z'%20fill='white'/%3e%3cpath%20d='M18.2579%209.56064H11.7421C10.8782%209.56131%2010.0499%209.93087%209.4391%2010.5881C8.82826%2011.2454%208.48482%2012.1367%208.48419%2013.0662V14.9783C8.48419%2015.5061%208.88225%2015.9344%209.37271%2015.9344H20.6273C20.8629%2015.9344%2021.0889%2015.8337%2021.2555%2015.6544C21.4222%2015.4751%2021.5158%2015.2319%2021.5158%2014.9783V13.0662C21.5151%2012.1367%2021.1717%2011.2454%2020.5609%2010.5881C19.95%209.93087%2019.1217%209.56131%2018.2579%209.56064Z'%20fill='white'/%3e%3c/g%3e%3c/svg%3e",Ut="data:image/svg+xml,%3csvg%20width='20'%20height='21'%20viewBox='0%200%2020%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%3e%3cpath%20d='M16.8285%201.3381H16.0214V0.669048C16.0214%200.301071%2015.7204%200%2015.3524%200C14.9844%200%2014.6833%200.301071%2014.6833%200.669048V1.3381H10.669V0.669048C10.669%200.301071%2010.368%200%2010%200C9.63202%200%209.33095%200.301071%209.33095%200.669048V1.3381H5.31667V0.669048C5.31667%200.301071%205.01559%200%204.64762%200C4.27964%200%203.97857%200.301071%203.97857%200.669048V1.3381H3.17153C1.77071%201.34228%200.637513%202.47548%200.633331%203.8763V17.5332C0.637513%2018.934%201.77071%2020.0714%203.17153%2020.0714H16.8285C18.2293%2020.0672%2019.3667%2018.934%2019.3667%2017.5332V3.8763C19.3625%202.47548%2018.2293%201.34228%2016.8285%201.3381ZM8.46537%2013.1844L6.45823%2015.1916C6.19897%2015.4508%205.77245%2015.4508%205.5132%2015.1916L4.1751%2013.8535C3.90748%2013.5984%203.9033%2013.1719%204.15838%2012.9084C4.41345%2012.6408%204.83997%2012.6366%205.10341%2012.8917C5.10759%2012.8959%205.11595%2012.9043%205.12013%2012.9084L5.98571%2013.774L7.52034%2012.2394C7.78796%2011.9843%208.2103%2011.9885%208.46537%2012.2561C8.71626%2012.5154%208.71626%2012.9252%208.46537%2013.1844ZM8.46537%207.16299L6.45823%209.17014C6.19897%209.42939%205.77245%209.42939%205.5132%209.17014L4.1751%207.83204C3.90748%207.57697%203.9033%207.15045%204.15838%206.88701C4.41345%206.61939%204.83997%206.61521%205.10341%206.87028C5.10759%206.87447%205.11595%206.88283%205.12013%206.88701L5.98571%207.75259L7.52034%206.21796C7.78796%205.96289%208.2103%205.96707%208.46537%206.23469C8.71626%206.49394%208.71626%206.90374%208.46537%207.16299ZM15.3524%2014.719H10.669C10.3011%2014.719%2010%2014.418%2010%2014.05C10%2013.682%2010.3011%2013.381%2010.669%2013.381H15.3524C15.7204%2013.381%2016.0214%2013.682%2016.0214%2014.05C16.0214%2014.418%2015.7204%2014.719%2015.3524%2014.719ZM15.3524%208.69762H10.669C10.3011%208.69762%2010%208.39655%2010%208.02857C10%207.6606%2010.3011%207.35952%2010.669%207.35952H15.3524C15.7204%207.35952%2016.0214%207.6606%2016.0214%208.02857C16.0214%208.39655%2015.7204%208.69762%2015.3524%208.69762Z'%20fill='white'/%3e%3c/g%3e%3c/svg%3e",Ht="/assets/page-airdrop-Cvfm1Yhz.svg",qt="/assets/soon-WBFuQPcg.svg",Vt=M(({model:s})=>e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-10 select-none px-4 pb-4",children:e.jsxs("ul",{className:"flex flex-row rounded-xl bg-gray text-sm font-normal shadow-xl shadow-black",children:[e.jsx("li",{onClick:()=>{s.setActivePage("tap")},className:"flex-1 cursor-pointer pb-2",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex flex-col-reverse items-center gap-1 whitespace-nowrap",children:[s.activePage==="tap"&&e.jsx("div",{className:"absolute h-10 w-12 bg-purple5 blur-lg"}),e.jsx("img",{src:"./gang/"+(s.level??1).toString()+".png",className:"z-10 -mt-12 h-24"+(s.activePage==="tap"?"":" brightness-75")})]})})}),e.jsxs("li",{onClick:()=>{},className:"flex flex-1 cursor-pointer flex-col-reverse items-center py-2",children:[e.jsx("div",{className:s.activePage==="invest"?"":"opacity-30",children:e.jsxs("div",{className:"flex flex-col-reverse items-center gap-1 whitespace-nowrap",children:[e.jsx("span",{children:"Invest"}),e.jsx("img",{src:Mt,className:"h-5"})]})}),e.jsx("img",{src:qt,className:"z-10 -my-2 w-12"})]}),e.jsx("li",{onClick:()=>{s.setActivePage("friends")},className:"flex-1 cursor-pointer py-2",children:e.jsx("div",{className:s.activePage==="friends"?"":"opacity-30",children:e.jsxs("div",{className:"flex flex-col-reverse items-center gap-1 whitespace-nowrap",children:[e.jsx("span",{children:"Friends"}),e.jsx("img",{src:Ot,className:"h-5"})]})})}),e.jsxs("li",{onClick:()=>{s.setActivePage("tasks")},className:"relative flex-1 cursor-pointer py-2",children:[s.hasUndoneTasks&&e.jsx("div",{className:"absolute right-1/3 top-1 z-10 -ml-1 h-2 w-2 rounded-full bg-red-500"}),e.jsx("div",{className:s.activePage==="tasks"?"":"opacity-30",children:e.jsxs("div",{className:"flex flex-col-reverse items-center gap-1 whitespace-nowrap",children:[e.jsx("span",{children:"Tasks"}),e.jsx("img",{src:Ut,className:"h-5"})]})})]}),e.jsx("li",{onClick:()=>{s.setActivePage("airdrop")},className:"relative flex-1 cursor-pointer py-2",children:e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col-reverse items-center gap-1 whitespace-nowrap",children:[e.jsx("span",{className:s.activePage==="airdrop"?"":"opacity-30",children:"Airdrop"}),e.jsx("img",{src:Ht,className:"-mb-1 -mt-1 h-7"})]})})})]})})),Ee="data:image/png;base64,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",q="/assets/coin-simple-DAtgwfMa.svg",Rt="/assets/tap-DwglmcxY.png",zt="data:image/svg+xml,%3csvg%20width='22'%20height='29'%20viewBox='0%200%2022%2029'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20.6859%2012.6415L15.6732%2011.2249C15.264%2011.1092%2015.0319%2010.6789%2015.1616%2010.2763L17.5519%202.85598C17.9113%202.38761%2017.9%201.71609%2017.4919%201.25663C17.028%200.734793%2016.2276%200.684377%2015.7041%201.14456L0.775237%2014.2743C0.251839%2014.7346%200.203621%2015.5312%200.667467%2016.0534C0.831997%2016.2392%201.04785%2016.3726%201.28794%2016.4368C1.33165%2016.4486%201.37601%2016.4569%201.42055%2016.464C1.46285%2016.4803%201.50618%2016.4948%201.55099%2016.5068L5.30512%2017.5127C5.76101%2017.6349%205.99311%2018.1401%205.78722%2018.562L1.95025%2026.4265C1.52842%2026.8681%201.48018%2027.5619%201.8663%2028.0614C2.03574%2028.2813%202.27331%2028.4395%202.54203%2028.5113C2.90986%2028.6098%203.31768%2028.543%203.64245%2028.2945L21.0471%2014.9819C21.2075%2014.8592%2021.3357%2014.6998%2021.4209%2014.5171C21.4809%2014.42%2021.5295%2014.3138%2021.562%2014.1986C21.7515%2013.5289%2021.3592%2012.8318%2020.6859%2012.6415Z'%20fill='url(%23paint0_linear_18_82)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_18_82'%20x1='14.7896'%20y1='0.315591'%20x2='14.7896'%20y2='21.7656'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23F7C243'/%3e%3cstop%20offset='1'%20stop-color='%23FD902B'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e";let xe=0;const Jt=M(({model:s})=>{var t;return e.jsxs("div",{className:"flex h-screen select-none flex-col",children:[e.jsxs("div",{onClick:()=>{s.levelProgress!=null&&s.showLevel(s.level??1)},className:"flex cursor-pointer flex-row",children:[e.jsxs("div",{className:"relative z-0 flex flex-none flex-row items-center gap-3",children:[e.jsx("img",{src:"https://t.me/i/userpic/160/"+s.username+".jpg",className:"absolute z-10 ml-4 mr-3 h-12 w-12 rounded-xl",onError:o=>{o.currentTarget.remove()}}),e.jsx("div",{className:"ml-4 h-12 w-12 rounded-xl bg-gradient-to-b from-purple1 to-purple2 p-2",children:e.jsx("img",{src:Ee,className:"h-full w-full"})}),e.jsxs("div",{className:"flex max-w-52 flex-col overflow-hidden",children:[e.jsx("p",{className:"truncate",children:s.firstName}),e.jsx("p",{children:s.levels.length>=(s.level??1)&&e.jsx("b",{className:"font-bold",children:s.levels[(s.level??1)-1].name})})]})]}),e.jsxs("div",{className:"ml-auto mt-auto",children:[e.jsx("div",{className:"pl-4 pr-16"+(s.levels.length>=(s.level??1)?"":" invisible"),children:e.jsxs("div",{className:"flex flex-row gap-3 text-xs",children:[e.jsx("div",{children:"Level"}),e.jsxs("div",{children:[s.level,e.jsxs("span",{className:"opacity-50",children:["/",s.levels.length]})]})]})}),e.jsxs("div",{className:"relative mx-4 rounded-full border border-gray4 border-opacity-70"+(s.levelProgress==null?" invisible":""),children:[e.jsx("div",{className:"absolute h-2 rounded-full bg-gradient-to-r from-purple10 via-purple11 to-purple12",style:{width:(((t=s.levelProgress)==null?void 0:t.toString())??"0")+"%"}}),e.jsx("div",{className:"h-2 rounded-full bg-gray2"})]})]})]}),e.jsx("div",{className:"-z-10 -mb-36 h-36 flex-none bg-gradient-to-b from-black to-purple3"}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex flex-row gap-2 overflow-x-auto overflow-y-hidden px-4 pb-3 pt-3",children:[s.showDailyStreakShortcut&&e.jsxs("div",{className:"flex w-32 flex-none cursor-pointer flex-col items-center gap-1 rounded-xl border border-purple4 bg-gradient-to-t from-gray3 to-gray2 p-2",onClick:()=>{s.showDailyStreak(!0)},children:[e.jsx("img",{src:"https://media.hipogang.io/task/dailystreak.png",className:"h-8 object-contain"}),e.jsx("div",{className:"text-sm",children:"Daily Reward"})]}),s.showPostStoryShortcut&&e.jsxs("div",{className:"flex w-32 flex-none cursor-pointer flex-col items-center gap-1 rounded-xl border border-purple4 bg-gradient-to-t from-gray3 to-gray2 p-2",onClick:s.showLevelUpStory,children:[e.jsx("img",{src:"https://media.hipogang.io/task/levelupstory.png",className:"h-8 object-contain"}),e.jsx("div",{className:"text-sm",children:"Post Story"})]}),s.show1mMembersStoryShortcut&&e.jsxs("div",{className:"flex w-32 flex-none cursor-pointer flex-col items-center gap-1 rounded-xl border border-purple4 bg-gradient-to-t from-gray3 to-gray2 p-2",onClick:s.show1mMembersStory,children:[e.jsx("img",{src:"https://media.hipogang.io/task/1m.png",className:"h-8 object-contain"}),e.jsx("div",{className:"text-sm",children:"1M Members"})]})]})}),e.jsxs("div",{className:"flex flex-1 flex-col rounded-4xl border-t-2 border-t-purple3 bg-black pb-20 pt-8",children:[e.jsxs("div",{className:"flex flex-none flex-row items-center justify-center",children:[e.jsx("img",{src:q}),e.jsx("div",{className:"px-2 font-bold "+(s.points!=null&&s.points>1e15?"text-2xl":s.points!=null&&s.points>1e12?"text-3xl":s.points!=null&&s.points>1e9?"text-4xl":"text-5xl"),children:s.pointsTransFormatted})]}),e.jsxs("div",{className:"relative flex flex-1 cursor-pointer touch-none items-center justify-center",onPointerDown:o=>{xe<3&&(xe+=1,s.tap(o.clientX,o.clientY))},onPointerUp:()=>{xe>0&&(xe-=1)},children:[e.jsx("img",{src:Rt,className:"absolute h-[50vh] object-contain"}),e.jsx("img",{src:"./gang/"+(s.level??1).toString()+".png",className:"relative h-[50vh] object-contain"}),s.levels.map((o,d)=>e.jsx("img",{src:"./gang/"+(d+1).toString()+".png",className:"hidden",loading:"lazy"},d))]})]}),e.jsxs("div",{className:"fixed bottom-24 right-4 flex flex-row-reverse items-center",children:[e.jsx("img",{src:zt,className:"h-6"}),s.levelEnergy>0&&e.jsxs("span",{className:"mr-2 text-sm font-medium",children:[s.remainEnergyFormatted," / ",s.levelEnergyFormatted]})]})]})}),U=7;let be=1;const Gt=1e3,_e=1e3,qe=1e3,Ve=1e4,Re=6e3,Qt=500,Zt=5e3,Kt="https://t.me/HipoGangBot/join?startapp=",he={internalServerError:4500,accountBlocked:4501,invalidInviteLink:4502,invitationBlocked:4503,inviterNotFound:4504,upgradeClient:4505,unknownRequest:4506,concurrencyPrevented:4507,sessionNotFound:4508};class Yt{constructor(){l(this,"connected",!1);l(this,"showSplash",!0);l(this,"hideWelcome",!0);l(this,"welcomeTab",0);l(this,"activePage","tap");l(this,"points");l(this,"pointsTrans");l(this,"levels",[]);l(this,"level");l(this,"levelEnergy",0);l(this,"remainEnergy",0);l(this,"levelUp",!1);l(this,"levelUpStoryShared",!1);l(this,"friendsFetchState","none");l(this,"friends",{count:0,top:[]});l(this,"tasksFetchState","none");l(this,"tasks",{groups:[]});l(this,"shownTask");l(this,"hasUndoneTasks",!1);l(this,"shownDailyStreak",!1);l(this,"shownLevel",1);l(this,"leadersFetchStates",[]);l(this,"leaders",[]);l(this,"currentWallet",{rawAddress:"",connectedWalletsCount:0,htonWalletActivated:!1,htonHoldLastDay:0,connectWalletPoints:0,htonActivationPoints:0,htonHoldPoints:0});l(this,"tonConnectOpened",!1);l(this,"shownConnectedWallet",!1);l(this,"shownConfirmDisconnect",!1);l(this,"messages",[]);l(this,"errorPage");l(this,"conn");l(this,"tonConnectUI");l(this,"proof");l(this,"bufferedTaps",0);l(this,"plusEffectEl");l(this,"confettiEnd",0);l(this,"timeoutConnect");l(this,"timeoutReplenish");l(this,"timeoutFlushTaps");l(this,"timeoutPing");l(this,"activateSplash",()=>{Telegram.WebApp.setHeaderColor("#0E0E0E"),Telegram.WebApp.setBackgroundColor("#0E0E0E"),Telegram.WebApp.MainButton.color="#7E22CE",Telegram.WebApp.BackButton.onClick(this.handleBack),Telegram.WebApp.expand(),Telegram.WebApp.ready(),setTimeout(()=>{this.init()},Qt),setTimeout(()=>{this.setShowSplash(!1)},Zt)});l(this,"connect",()=>{var o;if((((o=Telegram.WebApp.initDataUnsafe.user)==null?void 0:o.id)??0)<=1){this.showErrorPage("upgrade");return}let t="wss://api.hipogang.io/ws";location.host!=="app.hipogang.io"&&(t=location.origin.replace(/^http/,"ws")+location.pathname+"ws"),this.conn=new WebSocket(t+"?"+Telegram.WebApp.initData),this.conn.onerror=this.onConnError,this.conn.onopen=this.onConnOpen,this.conn.onclose=this.onConnClose,this.conn.onmessage=this.onConnMessage});l(this,"disconnect",()=>{this.conn.close(),this.setConnected(!1),clearTimeout(this.timeoutConnect),this.timeoutConnect=setTimeout(this.connect,be),be=Math.min(be*2,Gt)});l(this,"onConnOpen",()=>{this.setConnected(!0),this.activePage==="tap"?(this.sendTap(0),this.sendLevels()):this.activePage==="friends"&&this.sendFriends(),this.sendTasks(),this.proof!=null?this.sendConnectWallet():this.sendCurrentWallet(),be=1,clearTimeout(this.timeoutReplenish),this.timeoutReplenish=setTimeout(this.replenish,_e),clearTimeout(this.timeoutPing),this.timeoutPing=setTimeout(this.sendPing,Ve)});l(this,"onConnClose",t=>{this.connected&&this.disconnect(),clearTimeout(this.timeoutReplenish),clearTimeout(this.timeoutPing),this.friendsFetchState==="load"&&(this.friendsFetchState="error"),this.tasksFetchState==="load"&&(this.tasksFetchState="error"),t.code===he.accountBlocked?(clearTimeout(this.timeoutConnect),this.showErrorPage("blocked")):t.code===he.invalidInviteLink||t.code===he.invitationBlocked||t.code===he.inviterNotFound?(clearTimeout(this.timeoutConnect),this.showErrorPage("no-invitation")):t.code===he.upgradeClient&&(clearTimeout(this.timeoutConnect),location.reload())});l(this,"onConnError",()=>{this.disconnect()});l(this,"onConnMessage",t=>{var d,a,m,T;if(typeof t.data!="string")return;const o=JSON.parse(t.data);switch(o.type){case"tap":{this.setStatus(o.body);break}case"levels":{this.setLevels(o.body);break}case"friends":{this.setFriends("done",o.body);break}case"tasks":{this.setTasks("done",o.body);break}case"claimtask":case"claimdailystreak":case"claiminvitefriends":case"claimlevelupstory":{if(o.body.points?this.showTaskSuccess(o.body.points):this.showTaskFailure(),o.body.points&&this.activePage==="tap"&&this.sendTap(0),this.setTasks("done",o.body.tasks),this.shownTask!=null){let j;this.tasks.groups.forEach(E=>{const g=E.tasks.find(P=>{var L;return P.id===((L=this.shownTask)==null?void 0:L.id)});j==null&&g&&(j=g)}),j!=null?this.showTask(j):this.showTask(void 0)}o.type==="claimlevelupstory"&&(this.setLevelUpStoryShared(!1),this.levelUp&&this.hideLevelUp()),o.type==="claimdailystreak"&&o.body.points&&(((d=this.tasks.dailyStreak)==null?void 0:d.count)??0)>=(((a=this.tasks.dailyStreak)==null?void 0:a.pointsPerDay.length)??1)&&this.confettiStart();break}case"leaders":{this.setLeaders("done",o.body);break}case"generateproofpayload":{(m=this.tonConnectUI)==null||m.setConnectRequestParameters({state:"ready",value:{tonProof:o.body.payload}});break}case"connectwallet":{o.body.points?(this.showMessage({type:"success",time:Date.now(),text:`You got ${o.body.points.toLocaleString()} coins`}),this.confettiStart()):o.body.accepted||((T=this.tonConnectUI)==null||T.disconnect(),o.body.reason==="INVALID_PAYLOAD"?this.showMessage({type:"failure",time:Date.now(),text:"Too late to connect wallet, please try again"}):o.body.reason==="INVALID_ADDRESS"?this.showMessage({type:"failure",time:Date.now(),text:"Invalid workchain or wallet address"}):o.body.reason==="UNKNOWN_WALLET"?this.showMessage({type:"failure",time:Date.now(),text:"Unknown wallet connected, use a [v1-v5] standard wallet"}):o.body.reason==="INVALID_SIGNATURE"?this.showMessage({type:"failure",time:Date.now(),text:"Signature is invalid"}):o.body.reason==="TOO_MANY_CONNECTED_WALLETS"?this.showMessage({type:"failure",time:Date.now(),text:"You have too many connected wallets, new wallets are not accepted"}):this.showMessage({type:"failure",time:Date.now(),text:"Wallet not accepted"})),this.proof=void 0,this.sendCurrentWallet();break}case"currentwallet":{this.setCurrentWallet({rawAddress:o.body.raw_address,connectedWalletsCount:o.body.connected_wallets_count,htonWalletActivated:o.body.hton_wallet_activated,htonHoldLastDay:o.body.hton_hold_last_day,connectWalletPoints:o.body.connect_wallet_points,htonActivationPoints:o.body.hton_activation_points,htonHoldPoints:o.body.hton_hold_points});break}case"disconnectwallet":{this.sendCurrentWallet();break}}});l(this,"sendPing",()=>{this.connected&&(this.conn.send(JSON.stringify({type:"ping",v:U})),clearTimeout(this.timeoutPing),this.timeoutPing=setTimeout(this.sendPing,Ve))});l(this,"sendTap",t=>{this.connected&&this.conn.send(JSON.stringify({type:"tap",body:{count:t},v:U}))});l(this,"sendLevels",()=>{!this.connected||this.levels.length>0||this.conn.send(JSON.stringify({type:"levels",v:U}))});l(this,"sendFriends",()=>{if(!this.connected){this.friendsFetchState="error";return}this.friendsFetchState="load",this.conn.send(JSON.stringify({type:"friends",v:U}))});l(this,"sendTasks",()=>{if(!this.connected){this.tasksFetchState="error";return}this.tasksFetchState="load",this.conn.send(JSON.stringify({type:"tasks",v:U}))});l(this,"sendLeaders",()=>{if(!this.connected){this.leadersFetchStates[this.shownLevel-1]="error";return}this.leadersFetchStates[this.shownLevel-1]!=="load"&&(this.leadersFetchStates[this.shownLevel-1]="load",this.conn.send(JSON.stringify({type:"leaders",body:{level:this.shownLevel},v:U})))});l(this,"sendOpenTask",t=>{this.connected&&this.conn.send(JSON.stringify({type:"opentask",body:{id:t},v:U}))});l(this,"sendClaimTask",t=>{this.connected&&this.conn.send(JSON.stringify({type:"claimtask",body:{id:t},v:U}))});l(this,"sendClaimInviteFriends",()=>{this.connected&&this.conn.send(JSON.stringify({type:"claiminvitefriends",v:U}))});l(this,"sendClaimDailyStreak",t=>{this.connected&&this.conn.send(JSON.stringify({type:"claimdailystreak",body:{timezone_offset:t},v:U}))});l(this,"sendClaimLevelUpStory",()=>{this.connected&&this.conn.send(JSON.stringify({type:"claimlevelupstory",v:U}))});l(this,"sendCurrentWallet",()=>{this.connected&&this.conn.send(JSON.stringify({type:"currentwallet",v:U}))});l(this,"sendConnectWallet",()=>{!this.connected||this.proof==null||this.conn.send(JSON.stringify({type:"connectwallet",body:{raw_address:this.proof.rawAddress,wallet_state_init:this.proof.walletStateInit,domain:this.proof.domain,payload:this.proof.payload,signature:this.proof.signature,timestamp:this.proof.timestamp},v:U}))});l(this,"sendDisconnectWallet",()=>{this.connected&&this.conn.send(JSON.stringify({type:"disconnectwallet",v:U}))});l(this,"sendGenerateProofPayload",()=>{this.connected&&this.conn.send(JSON.stringify({type:"generateproofpayload",v:U}))});l(this,"setConnected",t=>{this.connected=t});l(this,"setShowSplash",t=>{this.showSplash=t});l(this,"closeWelcome",()=>{this.setHideWelcome(!0),this.setWelcomeTab(0),this.updateBack(),localStorage.setItem("hideWelcome","1"),Telegram.WebApp.CloudStorage.setItem("hideWelcome","1")});l(this,"setHideWelcome",t=>{this.hideWelcome=t});l(this,"setWelcomeTab",t=>{this.welcomeTab=t,this.updateBack()});l(this,"setActivePage",t=>{this.activePage!=="tap"&&t==="tap"?(this.sendTap(0),this.sendLevels()):this.activePage!=="friends"&&t==="friends"?this.sendFriends():this.activePage!=="tasks"&&t==="tasks"?this.sendTasks():this.activePage!=="airdrop"&&t==="airdrop"&&this.sendCurrentWallet(),this.activePage=t,this.updateBack(),Telegram.WebApp.HapticFeedback.impactOccurred("medium")});l(this,"updateBack",()=>{this.shownDailyStreak||this.shownTask!=null||this.levelUp||this.tonConnectOpened||this.shownConnectedWallet||this.welcomeTab>0||this.activePage!=="tap"?Telegram.WebApp.BackButton.show():Telegram.WebApp.BackButton.hide(),this.shownDailyStreak||this.shownTask!=null||this.levelUp||this.tonConnectOpened||this.shownConnectedWallet||!this.hideWelcome?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),this.activePage==="tap"?Telegram.WebApp.isVerticalSwipesEnabled&&Telegram.WebApp.disableVerticalSwipes():Telegram.WebApp.isVerticalSwipesEnabled||Telegram.WebApp.enableVerticalSwipes()});l(this,"handleBack",()=>{var t;this.shownDailyStreak?this.showDailyStreak(!1):this.shownTask!=null?this.showTask(void 0):this.levelUp?this.hideLevelUp():this.tonConnectOpened?(t=this.tonConnectUI)==null||t.closeModal():this.shownConfirmDisconnect?this.confirmDisconnect(!1):this.shownConnectedWallet?this.showConnectedWallet(!1):this.welcomeTab>0?this.setWelcomeTab(this.welcomeTab-1):this.activePage!=="tap"?this.setActivePage("tap"):(console.warn("back button not handled correctly"),this.updateBack())});l(this,"setPoints",t=>{(this.points==null||this.points<t)&&(this.points=t),this.pointsTrans==null&&(this.pointsTrans=0),requestAnimationFrame(this.animatePoints)});l(this,"setPointsTrans",t=>{this.pointsTrans=t});l(this,"animatePoints",()=>{if(this.points==null||this.pointsTrans==null)return;const t=this.points-this.pointsTrans;t!==0&&(this.pointsTrans=Math.min(this.points,this.pointsTrans+Math.ceil(t/10)),requestAnimationFrame(this.animatePoints))});l(this,"setStatus",t=>{this.setPoints(t.points),this.setLevel(t.level),this.levelEnergy=t.level_energy,this.remainEnergy=t.remain_energy,t.level_up&&(this.levelUp=!0,this.setLevelUpStoryShared(!1),Telegram.WebApp.HapticFeedback.impactOccurred("rigid"),this.updateBack()),this.setShowSplash(!1);const o=t.points.toString();localStorage.setItem("level",t.level.toString()),localStorage.setItem("points",o),Telegram.WebApp.CloudStorage.setItem("points",o)});l(this,"setLevel",t=>{this.level=t});l(this,"setLevels",t=>{this.levels=t.levels});l(this,"setFriends",(t,o)=>{this.friendsFetchState=t,this.friends=o});l(this,"setTasks",(t,o)=>{if(o.tasks.length!==o.states.length){this.tasksFetchState="error";return}this.tasksFetchState=t;const d={};let a=0;o.groups.forEach(g=>{const P={id:g[0],title:g[1],weight:g[2],tasks:[]};d[P.id]=P}),o.tasks.forEach((g,P)=>{var J;const L={id:g[0],points:g[1],groupId:g[2],icon:g[3],title:g[4],subtitle:g[5],action:g[6],url:g[7],weight:g[8],state:o.states[P]},I=g[9];I!=null&&(L.story={caption:I[1],useInviteLink:I[2],widgetName:I[3],media:I[4]}),(J=d[L.groupId])==null||J.tasks.push(L),a=Math.max(a,parseInt(L.id,10))});const m=[];Object.values(d).forEach(g=>{g!=null&&(g.tasks.length>0||g.id==="daily")&&(g.tasks.sort((P,L)=>P.state===2&&L.state<2?1:P.state<2&&L.state===2?-1:P.weight-L.weight),m.push(g))});const T={level:o.invite_friends[0],points:o.invite_friends[1]},j={level:o.level_up_story[0],points:o.level_up_story[1]};this.tasks={groups:m.sort((g,P)=>g.weight-P.weight),dailyStreak:{lastDay:o.daily_streak[0],count:o.daily_streak[1],pointsPerDay:o.daily_streak[2]},inviteFriends:T,levelUpStory:j};const E=this.tasks.groups.reduce((g,P)=>P.tasks.reduce((L,I)=>L||I.state!==2,g),!1);this.setHasUndoneTasks(E)});l(this,"setLeaders",(t,o)=>{this.leadersFetchStates[o.level-1]=t,this.leaders[o.level-1]=o.top});l(this,"tap",(t,o)=>{var j;const d=this.level??1;if(!this.connected||this.remainEnergy<d)return;const a=this.points??0;this.setPoints((this.points??0)+d);const m=this.points??0;this.remainEnergy=this.remainEnergy-d,this.bufferedTaps+=d,Telegram.WebApp.isClosingConfirmationEnabled||Telegram.WebApp.enableClosingConfirmation(),clearTimeout(this.timeoutReplenish),clearTimeout(this.timeoutFlushTaps);const T=((j=this.levels[this.level??1])==null?void 0:j.min_points)??0;if(a<T&&m>=T||this.bufferedTaps>=this.levelEnergy?this.flushTaps():this.timeoutFlushTaps=setTimeout(this.flushTaps,qe),Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.plusEffectEl!=null){const E=this.plusEffectEl.cloneNode();E.innerText="+"+d.toString(),E.style.left=t.toString()+"px",E.style.top=o.toString()+"px",document.body.appendChild(E),setTimeout(()=>{E.style.opacity="0",E.style.top=(o-100).toString()+"px"},0),setTimeout(()=>{E.remove()},700)}});l(this,"flushTaps",()=>{if(!this.connected){clearTimeout(this.timeoutFlushTaps),this.timeoutFlushTaps=setTimeout(this.flushTaps,qe);return}this.bufferedTaps>0&&(this.sendTap(this.bufferedTaps),this.bufferedTaps=0),this.timeoutReplenish=setTimeout(this.replenish,_e),Telegram.WebApp.isClosingConfirmationEnabled&&Telegram.WebApp.disableClosingConfirmation()});l(this,"replenish",()=>{this.remainEnergy=Math.min(this.levelEnergy,this.remainEnergy+3),clearTimeout(this.timeoutReplenish),this.timeoutReplenish=setTimeout(this.replenish,_e)});l(this,"shareLevelUpStory",()=>{var d;let t="Earn $HPO airdrops with me on Ton!",o;((d=Telegram.WebApp.initDataUnsafe.user)==null?void 0:d.is_premium)??!1?o={url:this.inviteLink,name:"Join Hipo Gang!"}:t+=`
`+this.inviteLink,Telegram.WebApp.shareToStory("https://media.hipogang.io/levelup/"+(this.level??2).toString()+".mp4",{text:t,widget_link:o}),this.setLevelUpStoryShared(!0)});l(this,"shareTaskStory",()=>{var a;const t=this.shownTask;if((t==null?void 0:t.story)==null||!this.connected)return;let o=t.story.caption,d;(t.story.useInviteLink||t.url!="")&&(((a=Telegram.WebApp.initDataUnsafe.user)==null?void 0:a.is_premium)??!1?d={url:t.story.useInviteLink?this.inviteLink:t.url,name:t.story.widgetName}:o+=`
`+(t.story.useInviteLink?this.inviteLink:t.url)),Telegram.WebApp.shareToStory(t.story.media,{text:o,widget_link:d}),this.taskOpened(t)});l(this,"setLevelUpStoryShared",t=>{this.levelUpStoryShared=t});l(this,"hideLevelUp",()=>{this.levelUp=!1,this.updateBack()});l(this,"showTask",t=>{this.shownTask=t,this.updateBack()});l(this,"showDailyStreak",t=>{this.shownDailyStreak=t,t&&setTimeout(()=>{var o;if((((o=this.tasks.dailyStreak)==null?void 0:o.count)??0)>3){const d=document.querySelector("#daily-streak");d!=null&&(d.scrollTop=d.scrollHeight)}},1),this.updateBack()});l(this,"showLevelUpStory",()=>{var t;this.showTask({id:"levelupstory",points:((t=this.tasks.levelUpStory)==null?void 0:t.points)??0,groupId:"simple",icon:"levelupstory.png",title:"Post Your Level Up Story",subtitle:"",action:"",url:"",weight:0,state:this.isLevelUpStoryDone?2:1})});l(this,"show1mMembersStory",()=>{if(this.tasks.groups.length<1||this.tasks.groups[0].tasks.length<1)return;const t=this.tasks.groups[0].tasks[0];t.story!=null&&this.showTask(t)});l(this,"taskOpened",t=>{!this.connected||t==null||(this.sendOpenTask(t.id),t.state=Math.max(t.state,1))});l(this,"taskClaimed",t=>{!this.connected||t==null||(t.id==="invitefriends"?this.sendClaimInviteFriends():this.sendClaimTask(t.id),t.state=0)});l(this,"claimDailyStreak",()=>{if(!this.connected||this.tasks.dailyStreak==null)return;const t=new Date().getTimezoneOffset();this.sendClaimDailyStreak(t),this.tasks.dailyStreak.lastDay=Math.floor(Date.now()/1e3)});l(this,"claimLevelUpStory",()=>{if(this.connected){if(!this.levelUpStoryShared){this.showTaskFailure();return}this.sendClaimLevelUpStory()}});l(this,"showTaskSuccess",t=>{this.showMessage({type:"success",time:Date.now(),text:`You got ${t.toLocaleString()} coins`})});l(this,"showTaskFailure",()=>{this.showMessage({type:"failure",time:Date.now(),text:"Task not accepted"})});l(this,"showMessage",t=>{this.messages.push(t),setTimeout(()=>{const o=document.querySelector("#messageDisplay #m"+t.time.toString());o!=null&&(o.classList.remove("max-h-0"),o.classList.add("max-h-16"))},10),setTimeout(()=>{const o=document.querySelector("#messageDisplay #m"+t.time.toString());o!=null&&(o.classList.remove("max-h-16"),o.classList.add("max-h-0"))},Re-1e3),setTimeout(this.removeFirstMessage,Re),Telegram.WebApp.HapticFeedback.impactOccurred("medium")});l(this,"removeFirstMessage",()=>{this.messages.splice(0,1)});l(this,"setHasUndoneTasks",t=>{this.hasUndoneTasks=t});l(this,"showLevel",t=>{this.shownLevel=Math.max(1,Math.min(t,this.levels.length)),this.sendLeaders(),this.setActivePage("levels")});l(this,"showErrorPage",t=>{this.errorPage=t});l(this,"setCurrentWallet",t=>{this.currentWallet=t});l(this,"setTonConnectOpened",t=>{this.tonConnectOpened=t});l(this,"showConnectedWallet",t=>{this.shownConnectedWallet=t,this.updateBack()});l(this,"confirmDisconnect",t=>{this.shownConfirmDisconnect=t});l(this,"close",()=>{Telegram.WebApp.close()});l(this,"controlBackgroundJobs",()=>{document.hidden?(this.flushTaps(),this.disconnect(),clearTimeout(this.timeoutFlushTaps),clearTimeout(this.timeoutReplenish),clearTimeout(this.timeoutConnect),clearTimeout(this.timeoutPing)):this.connect()});l(this,"initTonConnect",()=>{this.tonConnectUI==null&&(this.tonConnectUI=new Wt({restoreConnection:!1,manifestUrl:"https://app.hipo.finance/tonconnect-manifest.json",uiPreferences:{theme:He.DARK,colorsSet:{[He.DARK]:{background:{primary:"#1C1C1C",secondary:"#7E22CE",qr:"#ffffff",tint:"#7E22CE",segment:"#464343"},text:{primary:"#ffffff",secondary:"#cccccc"},icon:{primary:"#ffffff",secondary:"#cccccc",tertiary:"#cccccc",success:"#4bb543",error:"#c00"},constant:{black:"#1C1C1C",white:"#1C1C1C"},accent:"#7E22CE"}}}}),this.tonConnectUI.onStatusChange(t=>{var o,d;if((o=t==null?void 0:t.connectItems)!=null&&o.tonProof&&!("error"in t.connectItems.tonProof))if(t.account.chain===_t.MAINNET){const m=t.connectItems.tonProof;this.proof={rawAddress:t.account.address,walletStateInit:t.account.walletStateInit,domain:m.proof.domain.value,payload:m.proof.payload,signature:m.proof.signature,timestamp:m.proof.timestamp},this.sendConnectWallet(),this.setCurrentWallet({rawAddress:t.account.address,connectedWalletsCount:this.currentWallet.connectedWalletsCount,htonWalletActivated:this.currentWallet.htonWalletActivated,htonHoldLastDay:this.currentWallet.htonHoldLastDay,connectWalletPoints:this.currentWallet.connectWalletPoints,htonActivationPoints:this.currentWallet.htonActivationPoints,htonHoldPoints:this.currentWallet.htonHoldPoints})}else(d=this.tonConnectUI)==null||d.disconnect(),this.showMessage({type:"failure",time:Date.now(),text:"Wallet must be on mainnet"});else this.proof=void 0}),this.tonConnectUI.onModalStateChange(t=>{setTimeout(()=>{t.status==="opened"?this.setTonConnectOpened(!0):this.setTonConnectOpened(!1)}),this.updateBack()}))});l(this,"connectWallet",()=>{this.connected&&(this.initTonConnect(),this.tonConnectUI!=null&&(this.tonConnectUI.disconnect(),this.sendGenerateProofPayload(),this.tonConnectUI.setConnectRequestParameters({state:"loading"}),this.tonConnectUI.openModal()))});l(this,"disconnectWallet",()=>{var t;this.connected&&((t=this.tonConnectUI)==null||t.disconnect(),this.sendDisconnectWallet(),this.confirmDisconnect(!1),this.showConnectedWallet(!1),this.setCurrentWallet({rawAddress:"",connectedWalletsCount:this.currentWallet.connectedWalletsCount,htonWalletActivated:this.currentWallet.htonWalletActivated,htonHoldLastDay:this.currentWallet.htonHoldLastDay,connectWalletPoints:this.currentWallet.connectWalletPoints,htonActivationPoints:this.currentWallet.htonActivationPoints,htonHoldPoints:this.currentWallet.htonHoldPoints}))});l(this,"copyWalletAddress",()=>{this.friendlyWalletAddress.length!==0&&(navigator.clipboard.writeText(this.friendlyWalletAddress),Telegram.WebApp.HapticFeedback.impactOccurred("heavy"))});l(this,"copyInviteLink",()=>{navigator.clipboard.writeText(this.inviteLink),Telegram.WebApp.HapticFeedback.impactOccurred("heavy")});l(this,"confettiStart",(t=2e3)=>{this.confettiEnd=Date.now()+t,this.confettiFrame()});l(this,"confettiFrame",()=>{const t=ue.length,o=[ue[Math.floor(Math.random()*t)],ue[Math.floor(Math.random()*t)]],d=[ue[Math.floor(Math.random()*t)],ue[Math.floor(Math.random()*t)]];Ue({particleCount:2,angle:60,spread:55,origin:{x:0},colors:o,gravity:2,ticks:300}),Ue({particleCount:2,angle:120,spread:55,origin:{x:1},colors:d,gravity:2,ticks:300}),Date.now()<this.confettiEnd&&requestAnimationFrame(this.confettiFrame)});Tt(this,{connected:N,showSplash:N,hideWelcome:N,welcomeTab:N,activePage:N,points:N,pointsTrans:N,levels:N,level:N,levelEnergy:N,remainEnergy:N,levelUp:N,levelUpStoryShared:N,friendsFetchState:N,friends:N,tasksFetchState:N,tasks:N,shownTask:N,hasUndoneTasks:N,shownDailyStreak:N,shownLevel:N,leadersFetchStates:N,leaders:N,currentWallet:N,tonConnectOpened:N,shownConnectedWallet:N,shownConfirmDisconnect:N,messages:N,errorPage:N,pointsTransFormatted:D,levelProgress:D,levelEnergyFormatted:D,remainEnergyFormatted:D,firstName:D,username:D,inviteLink:D,inviteHref:D,currentDailyStreakPoints:D,isDailyStreakDone:D,isLevelUpStoryDone:D,showInviteFriendsTask:D,currentInviteFriendsCount:D,currentInviteFriendsPoints:D,canShareStory:D,truncatedWalletAddress:D,showDailyStreakShortcut:D,showPostStoryShortcut:D,show1mMembersStoryShortcut:D,setConnected:y,setShowSplash:y,closeWelcome:y,setHideWelcome:y,setWelcomeTab:y,setActivePage:y,updateBack:y,handleBack:y,setPoints:y,setPointsTrans:y,animatePoints:y,setStatus:y,setLevel:y,setLevels:y,setFriends:y,sendFriends:y,setTasks:y,setLeaders:y,sendTasks:y,tap:y,replenish:y,setLevelUpStoryShared:y,hideLevelUp:y,showTask:y,showDailyStreak:y,showLevelUpStory:y,show1mMembersStory:y,taskOpened:y,taskClaimed:y,claimDailyStreak:y,claimLevelUpStory:y,showTaskSuccess:y,showTaskFailure:y,removeFirstMessage:y,setHasUndoneTasks:y,showLevel:y,showErrorPage:y,setCurrentWallet:y,setTonConnectOpened:y,showConnectedWallet:y,confirmDisconnect:y})}init(){this.plusEffectEl=document.querySelector("#plusEffect")??void 0,this.plusEffectEl!=null&&(this.plusEffectEl.classList.remove("hidden"),this.plusEffectEl.remove()),localStorage.getItem("hideWelcome")==null&&(Telegram.WebApp.isVersionAtLeast("6.9")?Telegram.WebApp.CloudStorage.getItem("hideWelcome",(d,a)=>{d!=null||a!==""||this.setHideWelcome(!1)}):this.setHideWelcome(!1));const t=localStorage.getItem("level");t!=null&&this.level==null&&this.setLevel(parseInt(t,10)||1);const o=localStorage.getItem("points");if(o!=null&&this.pointsTrans==null){const d=parseInt(o,10);d&&this.setPointsTrans(d)}Telegram.WebApp.isVersionAtLeast("6.9")&&Telegram.WebApp.CloudStorage.getItem("points",(d,a)=>{if(d!=null||this.points!=null)return;const m=parseInt(a,10);if(m){this.setPointsTrans(Math.max(m,this.pointsTrans??0));return}}),this.updateBack(),document.onvisibilitychange=this.controlBackgroundJobs,this.controlBackgroundJobs()}get pointsTransFormatted(){return this.pointsTrans!=null?this.pointsTrans.toLocaleString():"···"}get levelProgress(){var a;const t=this.level,o=this.levels,d=this.points;if(t!=null&&o.length>=t&&d!=null){const m=o[t-1].min_points,T=((a=o[t])==null?void 0:a.min_points)??0;if(T-m>0)return Math.max(0,Math.min(100*(d-m)/(T-m),100))}}get levelEnergyFormatted(){return this.levelEnergy.toLocaleString()}get remainEnergyFormatted(){return this.remainEnergy.toLocaleString()}get firstName(){var t;return((t=Telegram.WebApp.initDataUnsafe.user)==null?void 0:t.first_name)??""}get username(){var t;return((t=Telegram.WebApp.initDataUnsafe.user)==null?void 0:t.username)??""}get inviteLink(){var t;return Kt+(((t=Telegram.WebApp.initDataUnsafe.user)==null?void 0:t.id)??0).toString()}get inviteHref(){const t=encodeURIComponent(this.inviteLink),o=encodeURIComponent(["","Earn $HPO Airdrops with me in the First DeFi Tap-to-Earn Game on TON!","","💸 5k coins as a first-time gift","🔥 25k coins if you have Telegram Premium"].join(`
`));return`https://t.me/share/url?url=${t}&text=${o}`}get currentDailyStreakPoints(){var d,a;const t=((d=this.tasks.dailyStreak)==null?void 0:d.pointsPerDay)??[0];let o=((a=this.tasks.dailyStreak)==null?void 0:a.count)??0;return this.isDailyStreakDone||(o+=1),t[Math.min(Math.max(1,o),t.length)-1]}get isDailyStreakDone(){var o;return Math.floor(Date.now()/1e3)<(((o=this.tasks.dailyStreak)==null?void 0:o.lastDay)??0)+24*60*60}get isLevelUpStoryDone(){var t;return(((t=this.tasks.levelUpStory)==null?void 0:t.level)??1)>=(this.level??1)}get showInviteFriendsTask(){var t,o;return(((t=this.tasks.inviteFriends)==null?void 0:t.level)??0)<(((o=this.tasks.inviteFriends)==null?void 0:o.points.length)??0)}get currentInviteFriendsCount(){var t,o;return(((t=this.tasks.inviteFriends)==null?void 0:t.points)??[])[((o=this.tasks.inviteFriends)==null?void 0:o.level)??0][0]}get currentInviteFriendsPoints(){var t,o;return(((t=this.tasks.inviteFriends)==null?void 0:t.points)??[])[((o=this.tasks.inviteFriends)==null?void 0:o.level)??0][1]}get canShareStory(){const t=Telegram.WebApp.platform;return t==="android"||t==="android_x"||t==="ios"}get friendlyWalletAddress(){return this.currentWallet.rawAddress===""?"":Pt.Address.parseRaw(this.currentWallet.rawAddress).toString({urlSafe:!0,bounceable:!1,testOnly:!1})}get truncatedWalletAddress(){const t=this.friendlyWalletAddress;if(t.length>0)return t.substring(0,6)+"···"+t.substring(t.length-6)}get showDailyStreakShortcut(){var t;return(((t=this.tasks.dailyStreak)==null?void 0:t.pointsPerDay.length)??0)>0&&!this.isDailyStreakDone}get showPostStoryShortcut(){var t;return(this.level??0)>1&&!this.isLevelUpStoryDone&&(((t=this.tasks.levelUpStory)==null?void 0:t.points)??0)>0}get show1mMembersStoryShortcut(){if(this.tasks.groups.length<1||this.tasks.groups[0].tasks.length<1)return!1;const t=this.tasks.groups[0].tasks[0];return t.story!=null&&t.state<2}}function Xt(s){return s.toLocaleString(void 0,{notation:"compact",maximumFractionDigits:0})}function Y(s){return s.toLocaleString(void 0,{notation:"compact",maximumFractionDigits:1})}const ue=["#ff0000","#ff8000","#ffff00","#80ff00","#00ff00","#00ff80","#00ffff","#0080ff","#0000ff","#8000ff","#ff00ff","#ff0080"],Ke="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20.75%207V16C20.75%2017.08%2020.13%2018.01%2019.23%2018.46C19.24%2018.31%2019.25%2018.16%2019.25%2018V9C19.25%206.66%2017.34%204.75%2015%204.75H6.63C7.09%203.86%208.01%203.25%209.08%203.25H17C19.07%203.25%2020.75%204.93%2020.75%207ZM15%206.25H6C4.483%206.25%203.25%207.483%203.25%209V18C3.25%2019.517%204.483%2020.75%206%2020.75H15C16.517%2020.75%2017.75%2019.517%2017.75%2018V9C17.75%207.483%2016.517%206.25%2015%206.25Z'%20fill='white'/%3e%3c/svg%3e",Ye="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.1.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20512%20512'%20style='enable-background:new%200%200%20512%20512;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFFFFF;}%20%3c/style%3e%3cg%20id='_7-Check'%3e%3cpath%20class='st0'%20d='M78.2,237.1c-25.8,0.1-46.7,21.1-46.7,46.9c0,10.7,3.7,21.1,10.5,29.4L160.9,459c8.6,10.7,21.8,16.5,35.5,15.8%20c14.4-0.8,27.5-8.5,35.8-21.2L479.1,55.9c0-0.1,0.1-0.1,0.1-0.2c2.3-3.6,1.6-10.6-3.2-15c-5.3-4.9-13.6-4.6-18.5,0.7%20c-0.2,0.2-0.4,0.4-0.5,0.6c-0.1,0.1-0.2,0.2-0.3,0.3l-249,281.4c-4,4.5-10.8,4.9-15.2,0.9c0,0-0.1-0.1-0.1-0.1l-82.6-75.2%20C101.1,241.4,89.8,237.1,78.2,237.1L78.2,237.1z'/%3e%3c/g%3e%3c/svg%3e",$t="data:image/svg+xml,%3csvg%20width='20'%20height='16'%20viewBox='0%200%2020%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.5158%207.64852C8.47865%207.64852%2010.0699%205.93634%2010.0699%203.82426C10.0699%201.71218%208.47865%200%206.5158%200C4.55294%200%202.96173%201.71218%202.96173%203.82426C2.96173%205.93634%204.55294%207.64852%206.5158%207.64852Z'%20fill='white'/%3e%3cpath%20d='M9.77368%209.56067H3.25789C2.39404%209.56134%201.56575%209.9309%200.954908%2010.5882C0.34407%2011.2454%200.000627574%2012.1367%200%2013.0662V14.9784C0%2015.5061%200.398055%2015.9344%200.888517%2015.9344H12.1431C12.3787%2015.9344%2012.6047%2015.8337%2012.7713%2015.6544C12.938%2015.4751%2013.0316%2015.2319%2013.0316%2014.9784V13.0662C13.031%2012.1367%2012.6875%2011.2454%2012.0767%2010.5882C11.4658%209.9309%2010.6375%209.56134%209.77368%209.56067Z'%20fill='white'/%3e%3cpath%20d='M19.828%206.724H17.74V8.86H15.796V6.724H13.708V4.888H15.796V2.74H17.74V4.888H19.828V6.724Z'%20fill='white'/%3e%3c/svg%3e",Xe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='72'%20height='72'%20viewBox='0%200%2072%2072'%20fill='none'%3e%3cpath%20d='M24%2056.7846C35.479%2063.412%2050.1572%2059.479%2056.7846%2047.9999C63.412%2036.5209%2059.479%2021.8427%2048%2015.2153C36.521%208.58791%2021.8428%2012.5209%2015.2154%2023.9999'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke='white'%3e%3c/path%3e%3c/svg%3e",es="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.8923%204.48214C12.7806%203.57589%2011.4325%202.85714%209.80427%202.85714C5.93509%202.85714%202.80122%206.05357%202.80122%2010C2.80122%2013.9464%205.93509%2017.1429%209.80427%2017.1429C12.8418%2017.1429%2015.433%2015.1652%2016.4003%2012.4062C16.5754%2011.9107%2017.0656%2011.5804%2017.5689%2011.6875L18.4837%2011.8839C18.987%2011.9911%2019.3153%2012.5%2019.1621%2013.0045C17.9059%2017.058%2014.1943%2020%209.80427%2020C4.39004%2020%200%2015.5223%200%2010C0%204.47768%204.39004%200%209.80427%200C12.4042%200%2014.4263%201.20982%2015.8838%202.45089L17.547%200.754464C17.814%200.482143%2018.2167%200.401786%2018.5625%200.549107C18.9082%200.696429%2019.1402%201.04464%2019.1402%201.42857V6.66518C19.1402%207.19196%2018.72%207.61607%2018.2079%207.61607H13.0738C12.6974%207.61607%2012.356%207.38393%2012.2116%207.02679C12.0671%206.66964%2012.1459%206.26339%2012.4129%205.99107L13.8923%204.48214Z'%20fill='white'/%3e%3c/svg%3e",ts=M(({model:s})=>{let t;const o=s.friends.top.map((d,a)=>e.jsxs("div",{className:"relative z-0 my-4 flex flex-row items-center gap-4 rounded-2xl bg-gray3 bg-gradient-radial px-4 py-2",children:[e.jsx("img",{src:"https://t.me/i/userpic/160/"+d.username+".jpg",className:"absolute z-10 h-12 w-12 rounded-xl",loading:"lazy",onError:m=>{m.currentTarget.remove()}}),e.jsx("div",{className:"w-max rounded-xl bg-purple8 p-2",children:e.jsx("img",{src:Ee,className:"h-8 w-8"})}),e.jsxs("div",{className:"flex flex-1 flex-col gap-2 overflow-hidden",children:[e.jsxs("div",{className:"truncate",children:[d.first_name," ",d.last_name]}),e.jsxs("div",{className:"flex flex-row items-center gap-1",children:[e.jsx("img",{src:q,className:"h-4"}),e.jsx("div",{className:"text-sm",children:Y(d.points)})]})]}),e.jsxs("div",{className:"flex min-w-16 flex-row items-center gap-1",children:[e.jsx("img",{src:q,className:"h-6"}),e.jsx("div",{className:"",children:Y(d.inviter_points)})]})]},a));return e.jsxs("div",{className:"select-none p-4",children:[e.jsx("h3",{className:"text-center text-xl font-bold",children:"Invite Friends"}),e.jsx("p",{className:"my-2 text-center text-sm",children:"You and your friends will receive coins."}),e.jsxs("div",{className:"my-4 flex flex-col gap-8 rounded-xl bg-gray3 p-4",children:[e.jsxs("div",{className:"flex flex-row items-start gap-4",children:[e.jsx("img",{src:q,className:"h-12 w-12"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h4",{className:"font-bold",children:"Invite a Friend"}),e.jsxs("p",{children:[e.jsxs("span",{className:"mr-4 text-yellow1",children:["+",5e3.toLocaleString()]}),"For you and your friend"]})]})]}),e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsx("img",{src:q,className:"h-12 w-12"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h4",{className:"font-bold",children:"Invite a Friend with Telegram Premium"}),e.jsxs("p",{children:[e.jsxs("span",{className:"mr-4 text-yellow1",children:["+",25e3.toLocaleString()]}),"For you and your friend"]})]})]}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs("a",{className:"flex grow flex-row place-content-center rounded-xl bg-purple9 p-4",href:s.inviteHref,children:[e.jsx("div",{className:"font-medium",children:"Invite a Friend"}),e.jsx("img",{src:$t,className:"ml-3"})]}),e.jsxs("button",{className:"group rounded-xl bg-purple9 p-4",onClick:d=>{s.copyInviteLink();const a=d.currentTarget;a.classList.add("copied"),clearTimeout(t),t=setTimeout(()=>{a.classList.remove("copied")},2e3)},children:[e.jsx("img",{src:Ke,className:"h-6 w-6 group-[.copied]:hidden"}),e.jsx("img",{src:Ye,className:"hidden h-6 w-6 group-[.copied]:block"})]})]})]}),e.jsxs("div",{className:"mb-4 mt-8 flex flex-row items-center",children:[e.jsxs("h4",{className:"h-6 flex-1 font-bold",children:["List of Your Friends",(s.friendsFetchState==="done"||s.friends.count>0)&&e.jsxs(e.Fragment,{children:[": ",s.friends.count.toLocaleString()]})]}),e.jsxs("div",{children:[s.friendsFetchState==="load"&&e.jsx("img",{src:Xe,className:"h-6 animate-spin"}),s.friendsFetchState==="error"&&e.jsx("img",{src:es,className:"h-6",onClick:s.sendFriends})]})]}),e.jsx("div",{children:o}),e.jsx("div",{className:"pointer-events-none fixed bottom-0 left-0 right-0 h-64 bg-gradient-to-t from-black from-25% to-transparent"}),e.jsx("div",{className:"mb-48"})]})}),ss="/assets/coin-glow-Dtqb2orG.svg",X="data:image/svg+xml,%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20492%20492'%20style='enable-background:new%200%200%20492%20492;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFFFFF;}%20%3c/style%3e%3cg%3e%3cg%3e%3cpath%20class='st0'%20d='M382.7,226.8L163.7,7.9c-5.1-5.1-11.8-7.9-19-7.9s-14,2.8-19,7.9L109.5,24c-10.5,10.5-10.5,27.6,0,38.1%20l183.9,183.9L109.3,430c-5.1,5.1-7.9,11.8-7.9,19c0,7.2,2.8,14,7.9,19l16.1,16.1c5.1,5.1,11.8,7.9,19,7.9s14-2.8,19-7.9L382.7,265%20c5.1-5.1,7.9-11.9,7.8-19.1C390.5,238.7,387.8,231.9,382.7,226.8z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",fe="/assets/tick-DdNedSwi.png",ns=M(({model:s})=>e.jsxs("div",{className:"flex select-none flex-col p-4",children:[e.jsx("img",{src:ss,className:"-my-4 mx-auto h-36"}),e.jsx("h3",{className:"mb-4 text-center font-medium",children:"Complete tasks and earn coins!"}),s.tasks.groups.map((t,o)=>{var d;return e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"px-4 font-bold",children:t.title}),e.jsxs("div",{children:[t.tasks.map((a,m)=>e.jsxs("div",{onClick:()=>{s.showTask(a)},className:"my-2 flex cursor-pointer flex-row items-center gap-4 rounded-2xl bg-gray3 px-4 py-2",children:[e.jsx("img",{src:"https://media.hipogang.io/task/"+a.icon,className:"h-12 w-12 flex-none"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-0.5 overflow-hidden",children:[e.jsx("div",{className:"truncate",children:a.title}),e.jsxs("div",{className:"flex flex-row items-center gap-1",children:[e.jsx("img",{src:q,className:"h-4"}),e.jsx("div",{className:"text-yellow1",children:a.points.toLocaleString()})]})]}),e.jsx("div",{className:"w-6 flex-none",children:a.state===2?e.jsx("img",{src:fe,className:"h-6 w-6"}):e.jsx("img",{src:X,className:"h-4 w-4"})})]},m)),t.id==="simple"&&(s.level??0)>1&&e.jsxs("div",{onClick:s.showLevelUpStory,className:"my-2 flex cursor-pointer flex-row items-center gap-4 rounded-2xl bg-gray3 px-4 py-2",children:[e.jsx("img",{src:"https://media.hipogang.io/task/levelupstory.png",className:"h-12 w-12 flex-none"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-0.5 overflow-hidden",children:[e.jsx("div",{className:"truncate",children:"Post Your Level Up Story"}),e.jsxs("div",{className:"flex flex-row items-center gap-1",children:[e.jsx("img",{src:q,className:"h-4"}),e.jsx("div",{className:"text-yellow1",children:(((d=s.tasks.levelUpStory)==null?void 0:d.points)??0).toLocaleString()})]})]}),e.jsx("div",{className:"w-6 flex-none",children:s.isLevelUpStoryDone?e.jsx("img",{src:fe,className:"h-6 w-6"}):e.jsx("img",{src:X,className:"h-4 w-4"})})]}),t.id==="simple"&&s.showInviteFriendsTask&&e.jsxs("div",{onClick:()=>{s.showTask({id:"invitefriends",points:s.currentInviteFriendsPoints,groupId:"simple",icon:"invitefriends.png",title:"Invite "+s.currentInviteFriendsCount.toString()+" Friends",subtitle:"",action:"",url:"",weight:0,state:1})},className:"my-2 flex cursor-pointer flex-row items-center gap-4 rounded-2xl bg-gray3 px-4 py-2",children:[e.jsx("img",{src:"https://media.hipogang.io/task/invitefriends.png",className:"h-12 w-12 flex-none"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-0.5 overflow-hidden",children:[e.jsxs("div",{className:"truncate",children:["Invite ",s.currentInviteFriendsCount," Friends"]}),e.jsxs("div",{className:"flex flex-row items-center gap-1",children:[e.jsx("img",{src:q,className:"h-4"}),e.jsx("div",{className:"text-yellow1",children:s.currentInviteFriendsPoints.toLocaleString()})]})]}),e.jsx("div",{className:"w-6 flex-none",children:e.jsx("img",{src:X,className:"h-4 w-4"})})]}),t.id==="daily"&&s.currentDailyStreakPoints>0&&e.jsxs("div",{onClick:()=>{s.showDailyStreak(!0)},className:"my-2 flex cursor-pointer flex-row items-center gap-4 rounded-2xl bg-gray3 px-4 py-2",children:[e.jsx("img",{src:"https://media.hipogang.io/task/dailystreak.png",className:"h-12 w-12 flex-none"}),e.jsxs("div",{className:"flex flex-1 flex-col gap-0.5 overflow-hidden",children:[e.jsx("div",{className:"truncate",children:"Daily Reward"}),e.jsxs("div",{className:"flex flex-row items-center gap-1",children:[e.jsx("img",{src:q,className:"h-4"}),e.jsx("div",{className:"text-yellow1",children:s.currentDailyStreakPoints.toLocaleString()})]})]}),e.jsx("div",{className:"w-6 flex-none",children:s.isDailyStreakDone?e.jsx("img",{src:fe,className:"h-6 w-6"}):e.jsx("img",{src:X,className:"h-4 w-4"})})]})]})]},o)}),e.jsx("div",{className:"pointer-events-none fixed bottom-0 left-0 right-0 h-64 bg-gradient-to-t from-black from-25% to-transparent"}),e.jsx("div",{className:"mb-48"})]})),rs="/assets/hpo-glow-BR6yBB8P.svg",$e="/assets/connectwallet-D8Nbmm0B.png",is=M(({model:s})=>e.jsxs("div",{className:"select-none p-4",children:[e.jsx("img",{src:rs,className:"mx-auto mb-4 h-36"}),e.jsx("h3",{className:"text-center text-2xl font-bold",children:"$HPO Airdrop"}),e.jsx("p",{className:"mb-8 mt-2 text-center",children:"Earn $HPO, the Governance Token of Hipo!"}),e.jsx("div",{className:"",children:e.jsxs("div",{onClick:()=>{s.currentWallet.rawAddress===""?s.connectWallet():s.showConnectedWallet(!0)},className:"my-2 flex cursor-pointer flex-row items-center gap-4 rounded-2xl bg-gray3 px-4 py-2",children:[e.jsx("img",{src:$e,className:"h-10 w-10 object-contain"}),e.jsxs("div",{className:"flex flex-1 flex-col",children:[e.jsx("div",{children:"Connect Your Ton Wallet"}),e.jsxs("div",{className:"flex flex-row items-center gap-1",children:[e.jsx("img",{src:q,className:"h-4"}),e.jsxs("div",{className:"text-yellow1",children:["+",s.currentWallet.connectWalletPoints.toLocaleString()]})]})]}),e.jsxs("div",{className:"w-6 flex-none",children:[s.currentWallet.rawAddress!==""&&e.jsx("img",{src:fe,className:"h-6 w-6"}),s.currentWallet.rawAddress===""&&e.jsx("img",{src:X,className:"h-4 w-4"})]})]})}),e.jsx("div",{className:"pointer-events-none fixed bottom-0 left-0 right-0 h-64 bg-gradient-to-t from-black from-25% to-transparent"}),e.jsx("div",{className:"mb-48"})]})),os=M(({model:s})=>{var o;const t=(s.leaders[s.shownLevel-1]??[]).map((d,a)=>e.jsxs("div",{className:"relative z-0 my-4 flex flex-row items-center gap-4 rounded-2xl bg-gray3 bg-gradient-radial px-4 py-2",children:[e.jsx("img",{src:"https://t.me/i/userpic/160/"+d.username+".jpg",className:"absolute z-10 h-12 w-12 rounded-xl",loading:"lazy",onError:m=>{m.currentTarget.remove()}}),e.jsx("div",{className:"w-max rounded-xl bg-purple8 p-2",children:e.jsx("img",{src:Ee,className:"h-8 w-8"})}),e.jsxs("div",{className:"flex max-w-64 flex-col gap-2 overflow-hidden",children:[e.jsxs("div",{className:"truncate",children:[d.first_name," ",d.last_name]}),e.jsxs("div",{className:"flex flex-row items-center gap-1",children:[e.jsx("img",{src:q,className:"h-4"}),e.jsx("div",{className:"text-sm",children:Y(d.points)})]})]}),e.jsx("div",{className:"ml-auto flex flex-row items-center",children:e.jsx("div",{className:"text-2xl",children:a+1})})]},a));return e.jsxs("div",{className:"select-none p-4",children:[e.jsxs("div",{className:"relative -mx-4 flex flex-row items-stretch gap-1",children:[e.jsx("div",{className:"absolute -z-10 mx-auto h-40 w-full bg-pink1 blur-3xl"}),e.jsx("img",{src:X,className:"w-14 flex-none rotate-180 cursor-pointer px-4"+(s.shownLevel>1?"":" invisible"),onClick:()=>{s.showLevel(s.shownLevel-1)}}),e.jsxs("div",{className:"flex flex-1 flex-col items-center",children:[s.levels.map((d,a)=>e.jsx("img",{src:"./gang/"+(a+1).toString()+".png",className:"max-h-[45vh] flex-none object-contain"+(a+1===s.shownLevel?"":" hidden")},a)),e.jsx("h3",{className:"mb-2 text-xl font-bold drop-shadow-md",children:s.levels[s.shownLevel-1].name}),e.jsxs("p",{className:"text-xs font-bold opacity-75"+(s.level!==s.shownLevel?"":" invisible"),children:["From ",Y(s.levels[s.shownLevel-1].min_points)]})]}),e.jsx("img",{src:X,className:"w-14 flex-none cursor-pointer px-4"+(s.shownLevel<s.levels.length?"":" invisible"),onClick:()=>{s.showLevel(s.shownLevel+1)}})]}),e.jsxs("div",{className:"-mt-4 flex flex-col items-center"+(s.level===s.shownLevel?"":" hidden"),children:[e.jsxs("div",{className:"text-xs font-bold opacity-75",children:[Y(s.points??0)," /"," ",Y(s.levels[s.level??1].min_points)]}),e.jsxs("div",{className:"relative mx-4 mt-2 w-full cursor-pointer rounded-full border-2 border-gray4 border-opacity-70",children:[e.jsx("div",{className:"absolute h-2 rounded-full bg-gradient-to-r from-purple10 via-purple11 to-purple12",style:{width:(((o=s.levelProgress)==null?void 0:o.toString())??"0")+"%"}}),e.jsx("div",{className:"h-2 rounded-full bg-gray2"})]})]}),e.jsx("div",{children:t}),e.jsx("div",{className:"pointer-events-none fixed bottom-0 left-0 right-0 h-64 bg-gradient-to-t from-black from-25% to-transparent"}),e.jsx("div",{className:"mb-48"})]})}),as=M(({model:s})=>{let t=e.jsx(e.Fragment,{});switch(s.activePage){case"tap":t=e.jsx(Jt,{model:s});break;case"friends":t=e.jsx(ts,{model:s});break;case"tasks":t=e.jsx(ns,{model:s});break;case"airdrop":t=e.jsx(is,{model:s});break;case"levels":t=e.jsx(os,{model:s});break}return t}),Pe="/assets/logo-SWJL6V13.png",ls=M(({model:s})=>e.jsx("div",{className:"flex h-screen w-screen place-content-center bg-black p-8 text-white",children:e.jsxs("div",{className:"flex w-auto max-w-96 flex-1 flex-col place-content-center items-center",children:[e.jsx("img",{src:Pe,className:"my-8 h-48 w-48"}),s.errorPage==="upgrade"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 px-4",children:[e.jsx("h3",{className:"my-4 text-center text-2xl font-bold text-purple9",children:"Upgrade Telegram"}),e.jsx("p",{className:"my-4 text-lg font-bold text-white",children:"It looks like that you're using an older version of Telegram. Please upgrade it to the latest version, and then try again."})]}),e.jsx("button",{onClick:s.close,className:"w-64 rounded-2xl bg-purple9 py-4 text-white",children:"Close"})]}),s.errorPage==="blocked"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 px-4",children:[e.jsx("h3",{className:"my-4 text-center text-2xl font-bold text-purple9",children:"Account Blocked"}),e.jsx("p",{className:"my-4 text-lg font-bold text-white",children:"Your account is blocked, and you cannot login."})]}),e.jsx("button",{onClick:s.close,className:"w-64 rounded-2xl bg-purple9 py-4 text-white",children:"Close"})]}),s.errorPage==="no-invitation"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 px-4",children:[e.jsx("h3",{className:"my-4 text-center text-2xl font-bold text-purple9",children:"Welcome to Hipo Gang!"}),e.jsx("p",{className:"my-4 text-lg font-bold text-white",children:"To join, you'll need an invitation. Reach out to a current member or join the Hipo community to request one."})]}),e.jsx("button",{onClick:t=>{t.currentTarget.onclick=s.close,t.currentTarget.innerText="Close",Telegram.WebApp.openLink("https://t.me/HipoFinance",{try_instant_view:!0})},className:"w-64 rounded-2xl bg-purple9 py-4 text-white",children:"Join Hipo Channel"})]})]})})),ze="data:image/svg+xml,%3csvg%20clip-rule='evenodd'%20fill-rule='evenodd'%20height='512'%20stroke-linejoin='round'%20stroke-miterlimit='2'%20viewBox='0%200%2032%2032'%20width='512'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20transform='translate(-192%20-96)'%3e%3cg%20transform='translate(144.003)'%3e%3ccircle%20cx='64'%20cy='112'%20fill='%2327d935'%20r='15'/%3e%3c/g%3e%3cg%20transform='translate(144.003)'%3e%3ccircle%20cx='64'%20cy='112'%20fill='%2327d935'%20r='15'/%3e%3c/g%3e%3cpath%20d='m200.293%20112.707%205%205c.39.391%201.024.391%201.414%200l9-9c.39-.39.39-1.024%200-1.414s-1.024-.39-1.414%200l-8.293%208.293s-4.293-4.293-4.293-4.293c-.39-.39-1.024-.39-1.414%200s-.39%201.024%200%201.414z'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",Je="data:image/svg+xml,%3csvg%20height='512pt'%20viewBox='0%200%20512%20512'%20width='512pt'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m256%200c-141.164062%200-256%20114.835938-256%20256s114.835938%20256%20256%20256%20256-114.835938%20256-256-114.835938-256-256-256zm0%200'%20fill='%23f44336'/%3e%3cpath%20d='m350.273438%20320.105469c8.339843%208.34375%208.339843%2021.824219%200%2030.167969-4.160157%204.160156-9.621094%206.25-15.085938%206.25-5.460938%200-10.921875-2.089844-15.082031-6.25l-64.105469-64.109376-64.105469%2064.109376c-4.160156%204.160156-9.621093%206.25-15.082031%206.25-5.464844%200-10.925781-2.089844-15.085938-6.25-8.339843-8.34375-8.339843-21.824219%200-30.167969l64.109376-64.105469-64.109376-64.105469c-8.339843-8.34375-8.339843-21.824219%200-30.167969%208.34375-8.339843%2021.824219-8.339843%2030.167969%200l64.105469%2064.109376%2064.105469-64.109376c8.34375-8.339843%2021.824219-8.339843%2030.167969%200%208.339843%208.34375%208.339843%2021.824219%200%2030.167969l-64.109376%2064.105469zm0%200'%20fill='%23fafafa'/%3e%3c/svg%3e",cs=M(({model:s})=>{const t=s.messages.map(o=>e.jsx("div",{id:"m"+o.time.toString(),className:"max-h-0 w-full overflow-hidden transition-all duration-500",children:e.jsxs("div",{className:"mb-2 flex flex-row gap-2 rounded-2xl bg-white bg-opacity-90 p-2 text-sm text-black",children:[o.type==="success"&&e.jsx("img",{src:ze,className:"w-5"}),o.type==="failure"&&e.jsx("img",{src:Je,className:"w-5"}),e.jsx("div",{className:"",children:o.text})]})},o.time));return e.jsxs("div",{id:"messageDisplay",className:"pointer-events-none fixed left-0 right-0 top-0 z-10 flex max-w-screen-sm flex-col items-center p-4",children:[e.jsx("img",{src:ze,loading:"lazy",className:"hidden"}),e.jsx("img",{src:Je,loading:"lazy",className:"hidden"}),t]})}),ds=M(({model:s})=>e.jsx(e.Fragment,{children:s.showSplash&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 top-0 z-30 flex h-screen w-screen place-content-center overflow-scroll bg-black",children:e.jsx("img",{src:"welcome.jpg?v=1",className:"h-screen w-screen object-contain object-top"})})})),ps=M(({model:s})=>e.jsxs("div",{className:"pointer-events-none fixed bottom-0 left-0 right-0 top-0 z-20"+(s.connected?" hidden":""),children:[e.jsx("div",{className:"absolute -z-10 h-screen w-screen bg-gradient-to-b from-black to-purple10 opacity-50"}),e.jsxs("div",{className:"mx-auto flex w-max flex-row place-content-center gap-2 rounded-b-2xl bg-black p-4 text-white shadow-lg shadow-purple3",children:[e.jsx("img",{src:Xe,className:"h-6 animate-spin"}),e.jsx("div",{className:"",children:"Connecting..."})]})]})),hs=M(({model:s})=>e.jsx(e.Fragment,{children:!s.hideWelcome&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 top-0 z-20 flex h-screen w-screen place-content-center overflow-y-scroll overscroll-contain bg-black",children:[s.welcomeTab===0&&e.jsxs("div",{className:"flex flex-col items-center px-4 py-16",children:[e.jsx("img",{src:Pe,className:"my-8 h-48 w-48 object-contain"}),e.jsxs("div",{children:[e.jsx("h3",{className:"my-4 text-center text-2xl font-bold text-purple9",children:"Welcome to Hipo Gang"}),e.jsx("p",{className:"mb-48 mt-4 px-8 text-lg font-bold text-white",children:"Earn $HPO in the first DeFi Tap-to-Earn game on Ton."})]}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 flex min-h-48 flex-col place-content-end items-center bg-gradient-to-t from-black from-50% to-transparent p-4",children:[e.jsxs("div",{className:"my-4 flex w-48 flex-row gap-2",children:[e.jsx("div",{className:"h-1 flex-1 rounded-full bg-purple9"}),e.jsx("div",{className:"h-1 flex-1 rounded-full bg-gray3"})]}),e.jsx("button",{onClick:()=>{s.setWelcomeTab(1)},className:"h-16 w-full rounded-2xl bg-purple9 py-4 text-white",children:"Next"})]})]}),s.welcomeTab===1&&e.jsxs("div",{className:"flex flex-col items-center px-4 py-16",children:[e.jsx("img",{src:Pe,className:"my-8 h-48 w-48 object-contain"}),e.jsxs("div",{children:[e.jsx("h3",{className:"my-4 text-center text-2xl font-bold text-purple9",children:"Your Mission"}),e.jsx("p",{className:"mb-48 mt-4 px-8 text-lg font-bold text-white",children:"Increase your coins by tapping, inviting friends, completing tasks, and investing."})]}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 flex min-h-48 flex-col place-content-end items-center bg-gradient-to-t from-black from-50% to-transparent p-4",children:[e.jsxs("div",{className:"my-4 flex w-48 flex-row gap-2",children:[e.jsx("div",{className:"h-1 flex-1 rounded-full bg-gray3"}),e.jsx("div",{className:"h-1 flex-1 rounded-full bg-purple9"})]}),e.jsx("button",{onClick:()=>{s.closeWelcome()},className:"h-16 w-full rounded-2xl bg-purple9 py-4 text-white",children:"Let's Join the Gang!"})]})]})]})})),us=M(({model:s})=>{var t;return e.jsx(e.Fragment,{children:s.shownDailyStreak&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 top-0 z-10",children:[e.jsx("div",{className:"absolute -z-10 h-screen w-screen bg-gradient-to-b from-black to-purple10 opacity-50",onClick:()=>{s.showDailyStreak(!1)}}),e.jsxs("div",{id:"daily-streak",className:"fixed bottom-0 left-0 right-0 flex max-h-[95vh] flex-col items-center gap-4 overflow-y-scroll overscroll-contain rounded-t-4xl border-t-2 border-t-purple1 bg-black px-8 py-8",children:[e.jsx("img",{src:"https://media.hipogang.io/task/dailystreak.png",className:"h-16"}),e.jsx("h3",{className:"text-center text-2xl font-bold",children:"Daily Reward"}),e.jsx("h4",{className:"px-10 text-center",children:"Claim rewards by logging into the game daily—don't miss a day!"}),e.jsx("div",{className:"mb-40 mt-2 grid w-full grid-flow-row grid-cols-3 gap-2",children:(((t=s.tasks.dailyStreak)==null?void 0:t.pointsPerDay)??[]).map((o,d,a)=>{var E,g,P,L;const m=(((E=s.tasks.dailyStreak)==null?void 0:E.count)??0)>d&&(d<(((g=s.tasks.dailyStreak)==null?void 0:g.pointsPerDay.length)??0)-1||s.isDailyStreakDone),T=!s.isDailyStreakDone&&Math.min(((P=s.tasks.dailyStreak)==null?void 0:P.count)??0,(((L=s.tasks.dailyStreak)==null?void 0:L.pointsPerDay.length)??0)-1)===d;let j="Day "+(d+1).toString();return d===a.length-1&&(j+=" and More"),e.jsxs("div",{className:"pointer-events-none flex flex-col items-center gap-1 rounded-xl border py-4"+(d===a.length-1&&d%3===0?" col-span-3":"")+(m?" bg-gradient-to-b from-green1 to-green2":" bg-gray3")+(m||T?" border-green1":" border-purple10 opacity-70")+(!m&&T?" shadow-lg shadow-green1":""),children:[e.jsx("div",{className:"text-sm",children:j}),e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx("img",{src:q,className:"h-5"+(m||T?"":" grayscale")}),e.jsx("div",{className:"text-xl font-medium",children:Y(o)})]})]},d)})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 flex h-48 flex-col place-content-end bg-gradient-to-t from-black from-50% to-transparent p-8",children:e.jsxs("button",{className:"h-16 w-full rounded-lg bg-purple9"+(s.isDailyStreakDone?" text-sm":" text-xl font-bold"),onClick:()=>{s.isDailyStreakDone?s.showDailyStreak(!1):s.claimDailyStreak()},children:[!s.isDailyStreakDone&&"Check",s.isDailyStreakDone&&"Come Back Tomorrow"]})})]})]})})}),fs=M(({model:s})=>e.jsx(e.Fragment,{children:s.shownTask!=null&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 top-0 z-10",children:[e.jsx("div",{className:"absolute -z-10 h-screen w-screen bg-gradient-to-b from-black to-purple10 opacity-50",onClick:()=>{s.showTask(void 0)}}),e.jsxs("div",{id:"task-"+s.shownTask.id,className:"fixed bottom-0 left-0 right-0 flex max-h-[90vh] flex-col items-center gap-4 overflow-y-scroll overscroll-contain rounded-t-4xl border-t-2 border-t-purple1 bg-black px-8 py-12",children:[e.jsx("img",{src:"https://media.hipogang.io/task/"+s.shownTask.icon,className:"h-32"}),e.jsx("h3",{className:"text-center text-2xl font-bold",children:s.shownTask.title}),e.jsx("h4",{className:"text-center",children:s.shownTask.subtitle}),s.shownTask.story==null&&s.shownTask.url!==""&&e.jsx("a",{className:"rounded-lg bg-purple9 px-12 py-2 text-lg font-medium",href:s.shownTask.url,target:"_blank",rel:"noreferrer",onClick:()=>{s.taskOpened(s.shownTask)},children:s.shownTask.action}),s.shownTask.story!=null&&e.jsxs(e.Fragment,{children:[s.canShareStory&&e.jsx("button",{className:"rounded-lg bg-purple9 px-12 py-2 text-lg font-medium",onClick:s.shareTaskStory,children:s.shownTask.action}),!s.canShareStory&&e.jsx("p",{className:"text-yellow1",children:"To post your story, please use your mobile."})]}),s.shownTask.id==="levelupstory"&&e.jsx("button",{onClick:s.shareLevelUpStory,className:"rounded-lg bg-purple9 px-12 py-2 text-lg font-medium",children:"Share"}),e.jsxs("div",{className:"my-4 flex flex-row items-center",children:[e.jsx("img",{src:q,className:"mx-2 h-8"}),e.jsxs("div",{className:"text-xl font-medium",children:["+",s.shownTask.points.toLocaleString()]})]}),s.shownTask.id!=="levelupstory"&&s.shownTask.state<2&&e.jsx("button",{className:"rounded-lg bg-purple9 px-24 py-3 text-xl font-medium disabled:bg-gray disabled:text-gray2",disabled:s.shownTask.state!==1,onClick:()=>{s.taskClaimed(s.shownTask)},children:"Check"}),s.shownTask.id==="levelupstory"&&s.shownTask.state<2&&e.jsxs(e.Fragment,{children:[!s.canShareStory&&e.jsx("p",{className:"text-yellow1",children:"To post your story, please use your mobile."}),s.canShareStory&&e.jsx("button",{onClick:s.claimLevelUpStory,className:"rounded-lg bg-purple9 px-24 py-3 text-xl font-medium",children:"Check"})]}),s.shownTask.state==2&&e.jsx("img",{src:fe,className:"mt-1 h-12"})]})]})})),gs="/assets/star-KBjK7Vd8.png",ms=M(({model:s})=>e.jsx(e.Fragment,{children:s.levelUp&&s.levels.length>0&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 top-0 z-10",children:[e.jsx("div",{className:"absolute -z-10 h-screen w-screen bg-gradient-to-b from-black to-purple10 opacity-50",onClick:s.hideLevelUp}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 flex max-h-[90vh] flex-col items-center gap-4 overflow-y-scroll overscroll-contain rounded-t-4xl border-t-2 border-t-purple1 bg-black px-8 py-4",children:[e.jsx("img",{src:gs,className:"-my-4 h-32"}),e.jsx("h3",{className:"text-3xl font-bold",children:"Level Up!"}),e.jsx("h3",{className:"text-2xl",children:s.levels[(s.level??1)-1].name}),e.jsxs("div",{className:"my-4 flex w-full flex-row",children:[e.jsxs("div",{className:"flex flex-1 flex-col items-center",children:[e.jsx("p",{className:"text-lg",children:"Tap Power"}),e.jsx("p",{className:"font-bold",children:s.levels[(s.level??1)-1].tap_points})]}),e.jsxs("div",{className:"flex flex-1 flex-col items-center",children:[e.jsx("p",{className:"text-lg",children:"Energy Limit"}),e.jsx("p",{className:"font-bold",children:s.levelEnergyFormatted})]})]}),s.canShareStory&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"",children:["Share in Your Story, Earn +",Xt(25e3)]}),e.jsx("button",{onClick:()=>{s.levelUpStoryShared?s.claimLevelUpStory():s.shareLevelUpStory()},className:"w-64 rounded-2xl bg-purple9 py-4 text-white",children:s.levelUpStoryShared?"Check":"Share"})]}),!s.canShareStory&&e.jsx(e.Fragment,{children:e.jsx("button",{onClick:s.hideLevelUp,className:"w-64 rounded-2xl bg-purple9 py-4 text-white",children:"Close"})})]})]})})),vs="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.1.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20512%20512'%20style='enable-background:new%200%200%20512%20512;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFFFFF;}%20%3c/style%3e%3cg%3e%3cg%3e%3ccircle%20class='st0'%20cx='333'%20cy='66.2'%20r='66.2'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20class='st0'%20d='M182.5,75.2c-36.6,0-66.2,29.6-66.2,66.2c0,2.8,0.2,5.6,0.5,8.3h131.3c0.3-2.7,0.5-5.5,0.5-8.3%20C248.7,104.8,219.1,75.2,182.5,75.2z'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20class='st0'%20d='M312.9,260.1h142.5v-54.8c0-13.5-10.9-24.4-24.4-24.4H46.6c-13.5,0-24.4,10.9-24.4,24.4v282.3%20c0,13.5,10.9,24.4,24.4,24.4h384.5c13.5,0,24.4-10.9,24.4-24.4v-54.8H312.9c-29.4,0-53.2-23.9-53.2-53.2v-66.3%20C259.7,284,283.6,260.1,312.9,260.1z'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20class='st0'%20d='M469.9,293.4H312.9c-11,0-20,8.9-20,20v66.3c0,11,8.9,20,20,20h156.9c11,0,20-8.9,20-20v-66.3%20C489.8,302.3,480.9,293.4,469.9,293.4z%20M346,369.9c-12.9,0-23.4-10.5-23.4-23.4S333,323,346,323s23.4,10.5,23.4,23.4%20C369.4,359.4,358.9,369.9,346,369.9z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Ge="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.1.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20512%20512'%20style='enable-background:new%200%200%20512%20512;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFFFFF;}%20%3c/style%3e%3cg%3e%3cg%20id='close_1_'%3e%3cpath%20class='st0'%20d='M48.5,508.8c-12.6,0.7-24.9-3.4-34.4-11.6c-18.8-18.9-18.8-49.5,0-68.4L425.8,17%20c19.6-18.3,50.2-17.3,68.5,2.3c16.5,17.7,17.5,44.9,2.3,63.7L82.5,497.2C73.1,505.2,60.9,509.4,48.5,508.8L48.5,508.8z'/%3e%3cpath%20class='st0'%20d='M459.8,508.8c-12.7-0.1-24.9-5.1-33.9-14.1L14.1,83C-3.3,62.6-1,32,19.4,14.6c18.2-15.5,44.9-15.5,63.1,0%20l414.2,411.7c19.6,18.3,20.6,49,2.3,68.5c-0.7,0.8-1.5,1.5-2.3,2.3C486.5,506,473.2,510.2,459.8,508.8L459.8,508.8z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",xs=M(({model:s})=>{let t;return e.jsx(e.Fragment,{children:s.shownConnectedWallet&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 top-0 z-10",children:[e.jsx("div",{className:"absolute -z-10 h-screen w-screen bg-gradient-to-b from-black to-purple10 opacity-50",onClick:()=>{s.showConnectedWallet(!1)}}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 flex max-h-[90vh] flex-col items-center gap-4 overflow-y-scroll overscroll-contain rounded-t-4xl border-t-2 border-t-purple1 bg-black px-8 py-4",children:[e.jsx("img",{src:$e,className:"h-16"}),!s.shownConfirmDisconnect&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-3xl font-bold",children:"Connected Wallet"}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs("button",{className:"font-mono group flex flex-row items-center gap-2 rounded-xl bg-green1 p-3",onClick:o=>{s.copyWalletAddress();const d=o.currentTarget;d.classList.add("copied"),clearTimeout(t),t=setTimeout(()=>{d.classList.remove("copied")},2e3)},children:[e.jsx("img",{src:vs,className:"h-4 w-4"}),e.jsx("div",{children:s.truncatedWalletAddress}),e.jsx("img",{src:Ke,className:"-m-1 h-6 w-6 group-[.copied]:hidden"}),e.jsx("img",{src:Ye,className:"hidden h-4 w-4 group-[.copied]:block"})]}),e.jsx("button",{onClick:()=>{s.confirmDisconnect(!0)},className:"rounded-xl bg-gray2 p-4",children:e.jsx("img",{src:Ge,className:"h-4 w-4"})})]}),s.currentWallet.connectedWalletsCount>=3&&e.jsxs("div",{className:"mt-4 px-6 text-yellow1",children:["You can connect up to 5 wallets. You’ve already connected"," ",s.currentWallet.connectedWalletsCount,"."]}),e.jsx("div",{className:"mb-40"}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 flex h-48 flex-col place-content-end bg-gradient-to-t from-black from-50% to-transparent p-8",children:e.jsx("button",{className:"h-16 w-full rounded-lg bg-purple9 text-xl font-bold",onClick:()=>{s.showConnectedWallet(!1)},children:"Back"})})]}),s.shownConfirmDisconnect&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-3xl font-bold",children:"Disconnect Wallet?"}),e.jsx("p",{children:"Disconnect only when you want to connect another wallet, otherwise, you will lose the eligibility for the airdrop."}),e.jsxs("button",{onClick:s.disconnectWallet,className:"flex flex-row items-center gap-2 rounded-xl bg-red-500 p-4",children:[e.jsx("img",{src:Ge,className:"h-4 w-4"}),"Disconnect"]}),e.jsx("div",{className:"mb-40"}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 flex h-48 flex-col place-content-end bg-gradient-to-t from-black from-50% to-transparent p-8",children:e.jsx("button",{className:"h-16 w-full rounded-lg bg-purple9 text-xl font-bold",onClick:()=>{s.confirmDisconnect(!1)},children:"Back"})})]})]})]})})}),bs=M(({model:s})=>s.errorPage!=null?e.jsx(ls,{model:s}):e.jsxs(e.Fragment,{children:[e.jsx(Vt,{model:s}),e.jsx(as,{model:s}),e.jsx(ds,{model:s}),e.jsx(ps,{model:s}),e.jsx(hs,{model:s}),e.jsx(us,{model:s}),e.jsx(fs,{model:s}),e.jsx(ms,{model:s}),e.jsx(xs,{model:s}),e.jsx(cs,{model:s})]}));(function(){var s={},t="";try{t=location.hash.toString()}catch{}var o=E(t),d=ge("initParams");if(d)for(var a in d)typeof o[a]>"u"&&(o[a]=d[a]);te("initParams",o);var m=!1,T;try{if(m=window.parent!=null&&window!=window.parent,m){window.addEventListener("message",function(f){if(f.source===window.parent){try{var v=JSON.parse(f.data)}catch{return}if(!(!v||!v.eventType))if(v.eventType=="set_custom_style")f.origin==="https://web.telegram.org"&&(T.innerHTML=v.eventData);else if(v.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else I(v.eventType,v.eventData)}}),T=document.createElement("style"),document.head.appendChild(T);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function j(f){try{return f=f.replace(/\+/g,"%20"),decodeURIComponent(f)}catch{return f}}function E(f){f=f.replace(/^#/,"");var v={};if(!f.length)return v;if(f.indexOf("=")<0&&f.indexOf("?")<0)return v._path=j(f),v;var k=f.indexOf("?");if(k>=0){var A=f.substr(0,k);v._path=j(A),f=f.substr(k+1)}var O=g(f);for(var R in O)v[R]=O[R];return v}function g(f){var v={};if(!f.length)return v;var k=f.split("&"),A,O,R,Q;for(A=0;A<k.length;A++)O=k[A].split("="),R=j(O[0]),Q=O[1]==null?null:j(O[1]),v[R]=Q;return v}function P(f,v){var k=f.indexOf("#");if(k<0)return f+"#"+v;var A=f.substr(k+1);return A.indexOf("=")>=0||A.indexOf("?")>=0?f+"&"+v:A.length>0?f+"?"+v:f+v}function L(f,v,k){if(v||(v=function(){}),k===void 0&&(k=""),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(f,JSON.stringify(k)),v();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:f,eventData:k})),v();else if(m)try{var A="https://web.telegram.org";A="*",window.parent.postMessage(JSON.stringify({eventType:f,eventData:k}),A),v()}catch(O){v(O)}else v({notAvailable:!0})}function I(f,v){J(f,function(k){k(f,v)})}function J(f,v){var k=s[f];if(!(k===void 0||!k.length))for(var A=0;A<k.length;A++)try{v(k[A])}catch{}}function G(f,v){s[f]===void 0&&(s[f]=[]);var k=s[f].indexOf(v);k===-1&&s[f].push(v)}function ye(f,v){if(s[f]!==void 0){var k=s[f].indexOf(v);k!==-1&&s[f].splice(k,1)}}function te(f,v){try{return window.sessionStorage.setItem("__telegram__"+f,JSON.stringify(v)),!0}catch{}return!1}function ge(f){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+f))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:o,isIframe:m,onEvent:G,offEvent:ye,postEvent:L,receiveEvent:I,callEventCallbacks:J},window.Telegram.Utils={urlSafeDecode:j,urlParseQueryString:g,urlParseHashParams:E,urlAppendHashParams:P,sessionStorageSet:te,sessionStorageGet:ge},window.TelegramGameProxy_receiveEvent=I,window.TelegramGameProxy={receiveEvent:I}})();(function(){var s=window.Telegram.Utils,t=window.Telegram.WebView,o=t.initParams,d=t.isIframe,a={},m="",T={},j={},E="light",g="6.0",P="unknown";if(o.tgWebAppData&&o.tgWebAppData.length){m=o.tgWebAppData,T=s.urlParseQueryString(m);for(var L in T){var I=T[L];try{(I.substr(0,1)=="{"&&I.substr(-1)=="}"||I.substr(0,1)=="["&&I.substr(-1)=="]")&&(T[L]=JSON.parse(I))}catch{}}}if(o.tgWebAppThemeParams&&o.tgWebAppThemeParams.length){var J=o.tgWebAppThemeParams;try{var G=JSON.parse(J);G&&ke(G)}catch{}}var G=s.sessionStorageGet("themeParams");G&&ke(G),o.tgWebAppVersion&&(g=o.tgWebAppVersion),o.tgWebAppPlatform&&(P=o.tgWebAppPlatform);function ye(n,r){r.theme_params&&(ke(r.theme_params),window.Telegram.WebApp.MainButton.setParams({}),Se(),A("themeChanged"))}var te=window.innerHeight;function ge(n,r){r.height&&(window.removeEventListener("resize",f),Ce(r))}function f(n){te!=window.innerHeight&&(te=window.innerHeight,A("viewportChanged",{isStateStable:!0}))}function v(n){if(!(n.metaKey||n.ctrlKey)){for(var r=n.target;r.tagName!="A"&&r.parentNode;)r=r.parentNode;r.tagName=="A"&&r.target!="_blank"&&(r.protocol=="http:"||r.protocol=="https:")&&r.hostname=="t.me"&&(a.openTgLink(r.href),n.preventDefault())}}function k(n){return n.toString().replace(/^\s+|\s+$/g,"")}function A(n){var r=Array.prototype.slice.call(arguments);n=r.shift(),t.callEventCallbacks("webview:"+n,function(i){i.apply(a,r)})}function O(n,r){t.onEvent("webview:"+n,r)}function R(n,r){t.offEvent("webview:"+n,r)}function Q(n,r){var i=document.documentElement;i&&i.style&&i.style.setProperty&&i.style.setProperty("--tg-"+n,r)}function ke(n){n.bg_color=="#1c1c1d"&&n.bg_color==n.secondary_bg_color&&(n.secondary_bg_color="#2c2c2e");var r;for(var i in n)(r=ie(n[i]))&&(j[i]=r,i=="bg_color"&&(E=ot(r)?"dark":"light",Q("color-scheme",E)),i="theme-"+i.split("_").join("-"),Q(i,r));s.sessionStorageSet("themeParams",j)}var z={};function Le(n){for(var r=100;--r;){for(var i="",c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",p=c.length,w=0;w<n;w++)i+=c[Math.floor(Math.random()*p)];if(!z[i])return z[i]={},i}throw Error("WebAppCallbackIdGenerateFailed")}var se=!1,ne=!1,Be=!0;function Ce(n){typeof n<"u"&&(Be=!!n.is_expanded,se=n.height,n.is_state_stable&&(ne=n.height),A("viewportChanged",{isStateStable:!!n.is_state_stable}));var r,i;se!==!1?r=se-V+"px":r=V?"calc(100vh - "+V+"px)":"100vh",ne!==!1?i=ne-V+"px":i=V?"calc(100vh - "+V+"px)":"100vh",Q("viewport-height",r),Q("viewport-stable-height",i)}var Ae=!1;function tt(n){if(!W("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+g);return}Ae=!!n,t.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:Ae})}var je=!0;function st(n){if(!W("7.7")){console.warn("[Telegram.WebApp] Changing swipes behavior is not supported in version "+g);return}je=!!n,t.postEvent("web_app_setup_swipe_behavior",!1,{allow_vertical_swipe:je})}var $="bg_color",re=null;function nt(){return $=="secondary_bg_color"?j.secondary_bg_color:$=="bg_color"?j.bg_color:re}function rt(n){if(!W("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+g);return}W("6.9")||(j.bg_color&&j.bg_color==n?n="bg_color":j.secondary_bg_color&&j.secondary_bg_color==n&&(n="secondary_bg_color"));var r=null,i=null;if(n=="bg_color"||n=="secondary_bg_color")i=n;else if(W("6.9")&&(r=ie(n),!r))throw console.error("[Telegram.WebApp] Header color format is invalid",n),Error("WebAppHeaderColorInvalid");if(!W("6.9")&&i!="bg_color"&&i!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",n),Error("WebAppHeaderColorKeyInvalid");$=i,re=r,Ie()}var Fe=null,Te=null;function Ie(){(Fe!=$||Te!=re)&&(Fe=$,Te=re,Te?t.postEvent("web_app_set_header_color",!1,{color:re}):t.postEvent("web_app_set_header_color",!1,{color_key:$}))}var me="bg_color";function De(){return me=="secondary_bg_color"?j.secondary_bg_color:me=="bg_color"?j.bg_color:me}function it(n){if(!W("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+g);return}var r;if(n=="bg_color"||n=="secondary_bg_color")r=n;else if(r=ie(n),!r)throw console.error("[Telegram.WebApp] Background color format is invalid",n),Error("WebAppBackgroundColorInvalid");me=r,Se()}var Me=null;function Se(){var n=De();Me!=n&&(Me=n,t.postEvent("web_app_set_background_color",!1,{color:n}))}function ie(n){n+="";var r;if(r=/^\s*#([0-9a-f]{6})\s*$/i.exec(n))return"#"+r[1].toLowerCase();if(r=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(n))return("#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]).toLowerCase();if(r=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(n)){var i=parseInt(r[1]),c=parseInt(r[2]),p=parseInt(r[3]);return i=(i<16?"0":"")+i.toString(16),c=(c<16?"0":"")+c.toString(16),p=(p<16?"0":"")+p.toString(16),"#"+i+c+p}return!1}function ot(n){n=n.replace(/[\s#]/g,""),n.length==3&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]);var r=parseInt(n.substr(0,2),16),i=parseInt(n.substr(2,2),16),c=parseInt(n.substr(4,2),16),p=Math.sqrt(.299*(r*r)+.587*(i*i)+.114*(c*c));return p<120}function at(n,r){typeof n!="string"&&(n=""),typeof r!="string"&&(r=""),n=n.replace(/^\s+|\s+$/g,"").split("."),r=r.replace(/^\s+|\s+$/g,"").split(".");var i=Math.max(n.length,r.length),c,p,w;for(c=0;c<i;c++)if(p=parseInt(n[c])||0,w=parseInt(r[c])||0,p!=w)return p>w?1:-1;return 0}function W(n){return at(g,n)>=0}function lt(n){if(window.Blob)try{return new Blob([n]).size}catch{}for(var r=n.length,i=n.length-1;i>=0;i--){var c=n.charCodeAt(i);c>127&&c<=2047?r++:c>2047&&c<=65535&&(r+=2),c>=56320&&c<=57343&&i--}return r}var ct=function(){var n=!1,r={};Object.defineProperty(r,"isVisible",{set:function(b){C({is_visible:b})},get:function(){return n},enumerable:!0});var i=null;t.onEvent("back_button_pressed",c);function c(){A("backButtonClicked")}function p(){return{is_visible:n}}function w(b){return typeof b>"u"&&(b=p()),JSON.stringify(b)}function u(){return W("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+g),!1)}function x(){var b=p(),_=w(b);i!==_&&(i=_,t.postEvent("web_app_setup_back_button",!1,b))}function C(b){return u()&&(typeof b.is_visible<"u"&&(n=!!b.is_visible),x()),r}return r.onClick=function(b){return u()&&O("backButtonClicked",b),r},r.offClick=function(b){return u()&&R("backButtonClicked",b),r},r.show=function(){return C({is_visible:!0})},r.hide=function(){return C({is_visible:!1})},r}(),V=0,dt=function(){var n=!1,r=!0,i=!1,c="CONTINUE",p=!1,w=!1,u={};Object.defineProperty(u,"text",{set:function(h){u.setParams({text:h})},get:function(){return c},enumerable:!0}),Object.defineProperty(u,"color",{set:function(h){u.setParams({color:h})},get:function(){return p||j.button_color||"#2481cc"},enumerable:!0}),Object.defineProperty(u,"textColor",{set:function(h){u.setParams({text_color:h})},get:function(){return w||j.button_text_color||"#ffffff"},enumerable:!0}),Object.defineProperty(u,"isVisible",{set:function(h){u.setParams({is_visible:h})},get:function(){return n},enumerable:!0}),Object.defineProperty(u,"isProgressVisible",{get:function(){return i},enumerable:!0}),Object.defineProperty(u,"isActive",{set:function(h){u.setParams({is_active:h})},get:function(){return r},enumerable:!0});var x=null;t.onEvent("main_button_pressed",H);var C=null,b={};if(o.tgWebAppDebug){C=document.createElement("tg-main-button"),b={font:"600 14px/18px sans-serif",display:"none",width:"100%",height:"48px",borderRadius:"0",background:"no-repeat right center",position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"15px 20px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var _ in b)C.style[_]=b[_];document.addEventListener("DOMContentLoaded",function h(S){document.removeEventListener("DOMContentLoaded",h),document.body.appendChild(C),C.addEventListener("click",H,!1)})}function H(){r&&A("mainButtonClicked")}function ve(){var h=u.color,S=u.textColor;return n?{is_visible:!0,is_active:r,is_progress_visible:i,text:c,color:h,text_color:S}:{is_visible:!1}}function We(h){return typeof h>"u"&&(h=ve()),JSON.stringify(h)}function de(){var h=ve(),S=We(h);x!==S&&(x=S,t.postEvent("web_app_setup_main_button",!1,h),o.tgWebAppDebug&&K(h))}function K(h){h.is_visible?(C.style.display="block",V=48,C.style.opacity=h.is_active?"1":"0.8",C.style.cursor=h.is_active?"pointer":"auto",C.disabled=!h.is_active,C.innerText=h.text,C.style.backgroundImage=h.is_progress_visible?"url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewport%3D%220%200%2048%2048%22%20width%3D%2248px%22%20height%3D%2248px%22%3E%3Ccircle%20cx%3D%2250%25%22%20cy%3D%2250%25%22%20stroke%3D%22%23fff%22%20stroke-width%3D%222.25%22%20stroke-linecap%3D%22round%22%20fill%3D%22none%22%20stroke-dashoffset%3D%22106%22%20r%3D%229%22%20stroke-dasharray%3D%2256.52%22%20rotate%3D%22-90%22%3E%3Canimate%20attributeName%3D%22stroke-dashoffset%22%20attributeType%3D%22XML%22%20dur%3D%22360s%22%20from%3D%220%22%20to%3D%2212500%22%20repeatCount%3D%22indefinite%22%3E%3C%2Fanimate%3E%3CanimateTransform%20attributeName%3D%22transform%22%20attributeType%3D%22XML%22%20type%3D%22rotate%22%20dur%3D%221s%22%20from%3D%22-90%2024%2024%22%20to%3D%22630%2024%2024%22%20repeatCount%3D%22indefinite%22%3E%3C%2FanimateTransform%3E%3C%2Fcircle%3E%3C%2Fsvg%3E')":"none",C.style.backgroundColor=h.color,C.style.color=h.text_color):(C.style.display="none",V=0),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=V+"px"),Ce()}function ee(h){if(typeof h.text<"u"){var S=k(h.text);if(!S.length)throw console.error("[Telegram.WebApp] Main button text is required",h.text),Error("WebAppMainButtonParamInvalid");if(S.length>64)throw console.error("[Telegram.WebApp] Main button text is too long",S),Error("WebAppMainButtonParamInvalid");c=S}if(typeof h.color<"u")if(h.color===!1||h.color===null)p=!1;else{var B=ie(h.color);if(!B)throw console.error("[Telegram.WebApp] Main button color format is invalid",h.color),Error("WebAppMainButtonParamInvalid");p=B}if(typeof h.text_color<"u")if(h.text_color===!1||h.text_color===null)w=!1;else{var F=ie(h.text_color);if(!F)throw console.error("[Telegram.WebApp] Main button text color format is invalid",h.text_color),Error("WebAppMainButtonParamInvalid");w=F}if(typeof h.is_visible<"u"){if(h.is_visible&&!u.text.length)throw console.error("[Telegram.WebApp] Main button text is required"),Error("WebAppMainButtonParamInvalid");n=!!h.is_visible}return typeof h.is_active<"u"&&(r=!!h.is_active),de(),u}return u.setText=function(h){return u.setParams({text:h})},u.onClick=function(h){return O("mainButtonClicked",h),u},u.offClick=function(h){return R("mainButtonClicked",h),u},u.show=function(){return u.setParams({is_visible:!0})},u.hide=function(){return u.setParams({is_visible:!1})},u.enable=function(){return u.setParams({is_active:!0})},u.disable=function(){return u.setParams({is_active:!1})},u.showProgress=function(h){return r=!!h,i=!0,de(),u},u.hideProgress=function(){return u.isActive||(r=!0),i=!1,de(),u},u.setParams=ee,u}(),Oe=function(){var n=!1,r={};Object.defineProperty(r,"isVisible",{set:function(b){C({is_visible:b})},get:function(){return n},enumerable:!0});var i=null;t.onEvent("settings_button_pressed",c);function c(){A("settingsButtonClicked")}function p(){return{is_visible:n}}function w(b){return typeof b>"u"&&(b=p()),JSON.stringify(b)}function u(){return W("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+g),!1)}function x(){var b=p(),_=w(b);i!==_&&(i=_,t.postEvent("web_app_setup_settings_button",!1,b))}function C(b){return u()&&(typeof b.is_visible<"u"&&(n=!!b.is_visible),x()),r}return r.onClick=function(b){return u()&&O("settingsButtonClicked",b),r},r.offClick=function(b){return u()&&R("settingsButtonClicked",b),r},r.show=function(){return C({is_visible:!0})},r.hide=function(){return C({is_visible:!1})},r}(),pt=function(){var n={};function r(i){if(!W("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+g),n;if(i.type=="impact"){if(i.impact_style!="light"&&i.impact_style!="medium"&&i.impact_style!="heavy"&&i.impact_style!="rigid"&&i.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",i.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(i.type=="notification"){if(i.notification_type!="error"&&i.notification_type!="success"&&i.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",i.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(i.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",i.type),Error("WebAppHapticFeedbackTypeInvalid");return t.postEvent("web_app_trigger_haptic_feedback",!1,i),n}return n.impactOccurred=function(i){return r({type:"impact",impact_style:i})},n.notificationOccurred=function(i){return r({type:"notification",notification_type:i})},n.selectionChanged=function(){return r({type:"selection_change"})},n}(),ht=function(){var n={};function r(i,c,p){if(!W("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+g),Error("WebAppMethodUnsupported");return Ne(i,c,p),n}return n.setItem=function(i,c,p){return r("saveStorageValue",{key:i,value:c},p)},n.getItem=function(i,c){return n.getItems([i],c?function(p,w){p?c(p):c(null,w[i])}:null)},n.getItems=function(i,c){return r("getStorageValues",{keys:i},c)},n.removeItem=function(i,c){return n.removeItems([i],c)},n.removeItems=function(i,c){return r("deleteStorageValues",{keys:i},c)},n.getKeys=function(i){return r("getStorageKeys",{},i)},n}(),ut=function(){var n=!1,r=!1,i="unknown",c=!1,p=!1,w=!1,u="",x={};Object.defineProperty(x,"isInited",{get:function(){return n},enumerable:!0}),Object.defineProperty(x,"isBiometricAvailable",{get:function(){return n&&r},enumerable:!0}),Object.defineProperty(x,"biometricType",{get:function(){return i||"unknown"},enumerable:!0}),Object.defineProperty(x,"isAccessRequested",{get:function(){return c},enumerable:!0}),Object.defineProperty(x,"isAccessGranted",{get:function(){return c&&p},enumerable:!0}),Object.defineProperty(x,"isBiometricTokenSaved",{get:function(){return w},enumerable:!0}),Object.defineProperty(x,"deviceId",{get:function(){return u||""},enumerable:!0});var C={callbacks:[]},b=!1,_=!1,H=!1;t.onEvent("biometry_info_received",ve),t.onEvent("biometry_auth_requested",We),t.onEvent("biometry_token_updated",de);function ve(h,S){if(n=!0,S.available?(r=!0,i=S.type||"unknown",S.access_requested?(c=!0,p=!!S.access_granted,w=!!S.token_saved):(c=!1,p=!1,w=!1)):(r=!1,i="unknown",c=!1,p=!1,w=!1),u=S.device_id||"",C.callbacks.length>0)for(var B=0;B<C.callbacks.length;B++){var F=C.callbacks[B];F()}if(b){var pe=b;b=!1,pe.callback&&pe.callback(p)}A("biometricManagerUpdated")}function We(h,S){var B=S.status=="authorized",F=S.token||"";if(_){var pe=_;_=!1,pe.callback&&pe.callback(B,B?F:null)}A("biometricAuthRequested",B?{isAuthenticated:!0,biometricToken:F}:{isAuthenticated:!1})}function de(h,S){var B=!1;if(r&&c&&(S.status=="updated"?(w=!0,B=!0):S.status=="removed"&&(w=!1,B=!0)),H){var F=H;H=!1,F.callback&&F.callback(B)}A("biometricTokenUpdated",{isUpdated:B})}function K(){return W("7.2")?!0:(console.warn("[Telegram.WebApp] BiometricManager is not supported in version "+g),!1)}function ee(){if(!n)throw console.error("[Telegram.WebApp] BiometricManager should be inited before using."),Error("WebAppBiometricManagerNotInited");return!0}return x.init=function(h){return!K()||n||(h&&C.callbacks.push(h),t.postEvent("web_app_biometry_get_info",!1)),x},x.requestAccess=function(h,S){if(!K())return x;if(ee(),!r)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(b)throw console.error("[Telegram.WebApp] Access is already requested"),Error("WebAppBiometricManagerAccessRequested");var B={};if(typeof h.reason<"u"){var F=k(h.reason);if(F.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",F),Error("WebAppBiometricRequestAccessParamInvalid");F.length>0&&(B.reason=F)}return b={callback:S},t.postEvent("web_app_biometry_request_access",!1,B),x},x.authenticate=function(h,S){if(!K())return x;if(ee(),!r)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!p)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(_)throw console.error("[Telegram.WebApp] Authentication request is already in progress."),Error("WebAppBiometricManagerAuthenticationRequested");var B={};if(typeof h.reason<"u"){var F=k(h.reason);if(F.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",F),Error("WebAppBiometricRequestAccessParamInvalid");F.length>0&&(B.reason=F)}return _={callback:S},t.postEvent("web_app_biometry_request_auth",!1,B),x},x.updateBiometricToken=function(h,S){if(!K())return x;if(h=h||"",h.length>1024)throw console.error("[Telegram.WebApp] Token is too long",h),Error("WebAppBiometricManagerTokenInvalid");if(ee(),!r)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!p)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(H)throw console.error("[Telegram.WebApp] Token request is already in progress."),Error("WebAppBiometricManagerTokenUpdateRequested");return H={callback:S},t.postEvent("web_app_biometry_update_token",!1,{token:h}),x},x.openSettings=function(){if(!K())return x;if(ee(),!r)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!c)throw console.error("[Telegram.WebApp] Biometric access was not requested yet."),Error("WebAppBiometricManagerBiometricsAccessNotRequested");return p?(console.warn("[Telegram.WebApp] Biometric access was granted by the user, no need to go to settings."),x):(t.postEvent("web_app_biometry_open_settings",!1),x)},x}(),oe={};function ft(n,r){if(r.slug&&oe[r.slug]){var i=oe[r.slug];delete oe[r.slug],i.callback&&i.callback(r.status),A("invoiceClosed",{url:i.url,status:r.status})}}var ae=!1;function gt(n,r){if(ae){var i=ae;ae=!1;var c=null;typeof r.button_id<"u"&&(c=r.button_id),i.callback&&i.callback(c),A("popupClosed",{button_id:c})}}var Z=!1;function mt(n,r){if(Z){var i=Z,c=null;typeof r.data<"u"&&(c=r.data),i.callback&&i.callback(c)&&(Z=!1,t.postEvent("web_app_close_scan_qr_popup",!1)),A("qrTextReceived",{data:c})}}function vt(n,r){Z=!1,A("scanQrPopupClosed")}function xt(n,r){if(r.req_id&&z[r.req_id]){var i=z[r.req_id];delete z[r.req_id];var c=null;typeof r.data<"u"&&(c=r.data),i.callback&&i.callback(c),A("clipboardTextReceived",{data:c})}}var le=!1;function bt(n,r){if(le){var i=le;le=!1,i.callback&&i.callback(r.status=="allowed"),A("writeAccessRequested",{status:r.status})}}function wt(n,r){var i,c,p=0,w=function(){Ne("getRequestedContact",{},function(x,C){C&&C.length?(clearTimeout(c),n(C)):(p+=50,i=setTimeout(w,p))})},u=function(){clearTimeout(i),n("")};c=setTimeout(u,r),w()}var ce=!1;function yt(n,r){if(ce){var i=ce;ce=!1;var c=r.status=="sent",p={status:r.status};c?wt(function(w){if(w&&w.length){p.response=w,p.responseUnsafe=s.urlParseQueryString(w);for(var u in p.responseUnsafe){var x=p.responseUnsafe[u];try{(x.substr(0,1)=="{"&&x.substr(-1)=="}"||x.substr(0,1)=="["&&x.substr(-1)=="]")&&(p.responseUnsafe[u]=JSON.parse(x))}catch{}}}i.callback&&i.callback(c,p),A("contactRequested",p)},3e3):(i.callback&&i.callback(c,p),A("contactRequested",p))}}function kt(n,r){if(r.req_id&&z[r.req_id]){var i=z[r.req_id];delete z[r.req_id];var c=null,p=null;typeof r.result<"u"&&(c=r.result),typeof r.error<"u"&&(p=r.error),i.callback&&i.callback(p,c)}}function Ne(n,r,i){if(!W("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+g),Error("WebAppMethodUnsupported");var c=Le(16),p={req_id:c,method:n,params:r||{}};z[c]={callback:i},t.postEvent("web_app_invoke_custom_method",!1,p)}window.Telegram||(window.Telegram={}),Object.defineProperty(a,"initData",{get:function(){return m},enumerable:!0}),Object.defineProperty(a,"initDataUnsafe",{get:function(){return T},enumerable:!0}),Object.defineProperty(a,"version",{get:function(){return g},enumerable:!0}),Object.defineProperty(a,"platform",{get:function(){return P},enumerable:!0}),Object.defineProperty(a,"colorScheme",{get:function(){return E},enumerable:!0}),Object.defineProperty(a,"themeParams",{get:function(){return j},enumerable:!0}),Object.defineProperty(a,"isExpanded",{get:function(){return Be},enumerable:!0}),Object.defineProperty(a,"viewportHeight",{get:function(){return(se===!1?window.innerHeight:se)-V},enumerable:!0}),Object.defineProperty(a,"viewportStableHeight",{get:function(){return(ne===!1?window.innerHeight:ne)-V},enumerable:!0}),Object.defineProperty(a,"isClosingConfirmationEnabled",{set:function(n){tt(n)},get:function(){return Ae},enumerable:!0}),Object.defineProperty(a,"isVerticalSwipesEnabled",{set:function(n){st(n)},get:function(){return je},enumerable:!0}),Object.defineProperty(a,"headerColor",{set:function(n){rt(n)},get:function(){return nt()},enumerable:!0}),Object.defineProperty(a,"backgroundColor",{set:function(n){it(n)},get:function(){return De()},enumerable:!0}),Object.defineProperty(a,"BackButton",{value:ct,enumerable:!0}),Object.defineProperty(a,"MainButton",{value:dt,enumerable:!0}),Object.defineProperty(a,"SettingsButton",{value:Oe,enumerable:!0}),Object.defineProperty(a,"HapticFeedback",{value:pt,enumerable:!0}),Object.defineProperty(a,"CloudStorage",{value:ht,enumerable:!0}),Object.defineProperty(a,"BiometricManager",{value:ut,enumerable:!0}),a.setHeaderColor=function(n){a.headerColor=n},a.setBackgroundColor=function(n){a.backgroundColor=n},a.enableClosingConfirmation=function(){a.isClosingConfirmationEnabled=!0},a.disableClosingConfirmation=function(){a.isClosingConfirmationEnabled=!1},a.enableVerticalSwipes=function(){a.isVerticalSwipesEnabled=!0},a.disableVerticalSwipes=function(){a.isVerticalSwipesEnabled=!1},a.isVersionAtLeast=function(n){return W(n)},a.onEvent=function(n,r){O(n,r)},a.offEvent=function(n,r){R(n,r)},a.sendData=function(n){if(!n||!n.length)throw console.error("[Telegram.WebApp] Data is required",n),Error("WebAppDataInvalid");if(lt(n)>4096)throw console.error("[Telegram.WebApp] Data is too long",n),Error("WebAppDataInvalid");t.postEvent("web_app_data_send",!1,{data:n})},a.switchInlineQuery=function(n,r){if(!W("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+g),Error("WebAppMethodUnsupported");if(!o.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(n=n||"",n.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",n),Error("WebAppInlineQueryInvalid");var i=[];if(r){if(!Array.isArray(r))throw console.error("[Telegram.WebApp] Choose chat types should be an array",r),Error("WebAppInlineChooseChatTypesInvalid");for(var c={users:1,bots:1,groups:1,channels:1},p=0;p<r.length;p++){var w=r[p];if(!c[w])throw console.error("[Telegram.WebApp] Choose chat type is invalid",w),Error("WebAppInlineChooseChatTypeInvalid");c[w]!=2&&(c[w]=2,i.push(w))}}t.postEvent("web_app_switch_inline_query",!1,{query:n,chat_types:i})},a.openLink=function(c,r){var i=document.createElement("A");if(i.href=c,i.protocol!="http:"&&i.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",c),Error("WebAppTgUrlInvalid");var c=i.href;if(r=r||{},W("6.1")){var p={url:c};W("6.4")&&r.try_instant_view&&(p.try_instant_view=!0),W("7.6")&&r.try_browser&&(p.try_browser=r.try_browser),t.postEvent("web_app_open_link",!1,p)}else window.open(c,"_blank")},a.openTelegramLink=function(n){var r=document.createElement("A");if(r.href=n,r.protocol!="http:"&&r.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",n),Error("WebAppTgUrlInvalid");if(r.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",n),Error("WebAppTgUrlInvalid");var i=r.pathname+r.search;d||W("6.1")?t.postEvent("web_app_open_tg_link",!1,{path_full:i}):location.href="https://t.me"+i},a.openInvoice=function(n,r){var i=document.createElement("A"),c,p;if(i.href=n,i.protocol!="http:"&&i.protocol!="https:"||i.hostname!="t.me"||!(c=i.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(p=c[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",n),Error("WebAppInvoiceUrlInvalid");if(!W("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+g),Error("WebAppMethodUnsupported");if(oe[p])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");oe[p]={url:n,callback:r},t.postEvent("web_app_open_invoice",!1,{slug:p})},a.showPopup=function(n,r){if(!W("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+g),Error("WebAppMethodUnsupported");if(ae)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var i="",c="",p=[],w={};if(typeof n.title<"u"){if(i=k(n.title),i.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",i),Error("WebAppPopupParamInvalid");i.length>0&&(w.title=i)}if(typeof n.message<"u"&&(c=k(n.message)),!c.length)throw console.error("[Telegram.WebApp] Popup message is required",n.message),Error("WebAppPopupParamInvalid");if(c.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",c),Error("WebAppPopupParamInvalid");if(w.message=c,typeof n.buttons<"u"){if(!Array.isArray(n.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",n.buttons),Error("WebAppPopupParamInvalid");for(var u=0;u<n.buttons.length;u++){var x=n.buttons[u],C={},b="";if(typeof x.id<"u"&&(b=x.id.toString(),b.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",b),Error("WebAppPopupParamInvalid");C.id=b;var _=x.type;if(typeof _>"u"&&(_="default"),C.type=_,!(_=="ok"||_=="close"||_=="cancel"))if(_=="default"||_=="destructive"){var H="";if(typeof x.text<"u"&&(H=k(x.text)),!H.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+_,x.text),Error("WebAppPopupParamInvalid");if(H.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",H),Error("WebAppPopupParamInvalid");C.text=H}else throw console.error("[Telegram.WebApp] Popup button type is invalid",_),Error("WebAppPopupParamInvalid");p.push(C)}}else p.push({id:"",type:"close"});if(p.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(p.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");w.buttons=p,ae={callback:r},t.postEvent("web_app_open_popup",!1,w)},a.showAlert=function(n,r){a.showPopup({message:n},r?function(){r()}:null)},a.showConfirm=function(n,r){a.showPopup({message:n,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},r?function(i){r(i=="ok")}:null)},a.showScanQrPopup=function(n,r){if(!W("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+g),Error("WebAppMethodUnsupported");if(Z)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var i="",c={};if(typeof n.text<"u"){if(i=k(n.text),i.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",i),Error("WebAppScanQrPopupParamInvalid");i.length>0&&(c.text=i)}Z={callback:r},t.postEvent("web_app_open_scan_qr_popup",!1,c)},a.closeScanQrPopup=function(){if(!W("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+g),Error("WebAppMethodUnsupported");Z=!1,t.postEvent("web_app_close_scan_qr_popup",!1)},a.readTextFromClipboard=function(n){if(!W("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+g),Error("WebAppMethodUnsupported");var r=Le(16),i={req_id:r};z[r]={callback:n},t.postEvent("web_app_read_text_from_clipboard",!1,i)},a.requestWriteAccess=function(n){if(!W("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+g),Error("WebAppMethodUnsupported");if(le)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");le={callback:n},t.postEvent("web_app_request_write_access")},a.requestContact=function(n){if(!W("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+g),Error("WebAppMethodUnsupported");if(ce)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");ce={callback:n},t.postEvent("web_app_request_phone")},a.shareToStory=function(n,r){if(r=r||{},!W("7.8"))throw console.error("[Telegram.WebApp] Method shareToStory is not supported in version "+g),Error("WebAppMethodUnsupported");var i=document.createElement("A");if(i.href=n,i.protocol!="http:"&&i.protocol!="https:")throw console.error("[Telegram.WebApp] Media url protocol is not supported",url),Error("WebAppMediaUrlInvalid");var c={};if(c.media_url=i.href,typeof r.text<"u"){var p=k(r.text);if(p.length>2048)throw console.error("[Telegram.WebApp] Text is too long",p),Error("WebAppShareToStoryParamInvalid");p.length>0&&(c.text=p)}if(typeof r.widget_link<"u"){if(r.widget_link=r.widget_link||{},i.href=r.widget_link.url,i.protocol!="http:"&&i.protocol!="https:")throw console.error("[Telegram.WebApp] Link protocol is not supported",url),Error("WebAppShareToStoryParamInvalid");var w={url:i.href};if(typeof r.widget_link.name<"u"){var u=k(r.widget_link.name);if(u.length>48)throw console.error("[Telegram.WebApp] Link name is too long",u),Error("WebAppShareToStoryParamInvalid");u.length>0&&(w.name=u)}c.widget_link=w}t.postEvent("web_app_share_to_story",!1,c)},a.invokeCustomMethod=function(n,r,i){Ne(n,r,i)},a.ready=function(){t.postEvent("web_app_ready")},a.expand=function(){t.postEvent("web_app_expand")},a.close=function(n){n=n||{};var r={};W("7.6")&&n.return_back&&(r.return_back=!0),t.postEvent("web_app_close",!1,r)},window.Telegram.WebApp=a,Ie(),Se(),Ce(),o.tgWebAppShowSettings&&Oe.show(),window.addEventListener("resize",f),d&&document.addEventListener("click",v),t.onEvent("theme_changed",ye),t.onEvent("viewport_changed",ge),t.onEvent("invoice_closed",ft),t.onEvent("popup_closed",gt),t.onEvent("qr_text_received",mt),t.onEvent("scan_qr_popup_closed",vt),t.onEvent("clipboard_text_received",xt),t.onEvent("write_access_requested",bt),t.onEvent("phone_requested",yt),t.onEvent("custom_method_invoked",kt),t.postEvent("web_app_request_theme"),t.postEvent("web_app_request_viewport")})();const et=new Yt;et.activateSplash();St.createRoot(document.querySelector("#root")??document.body).render(e.jsx(Nt.StrictMode,{children:e.jsx(bs,{model:et})}));
